<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.115.4"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>Migrate from Docker Compose to Kubernetes - Documentation for Konveyor projects</title><link href=/css/nucleus.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet><link href=/css/hybrid.css rel=stylesheet><link href=/css/featherlight.min.css rel=stylesheet><link href=/css/perfect-scrollbar.min.css rel=stylesheet><link href=/css/auto-complete.css rel=stylesheet><link href=/css/atom-one-dark-reasonable.css rel=stylesheet><link href=/css/theme.css rel=stylesheet><link href=/css/tabs.css rel=stylesheet><link href=/css/hugo-theme.css rel=stylesheet><link href=/css/theme-konveyor.css rel=stylesheet><link href=/css/foo.css rel=stylesheet><link href=/css/bar.css rel=stylesheet><script src=/js/jquery-3.3.1.min.js></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><script>var dataLayer=window.dataLayer=window.dataLayer||[];dataLayer.push({page:"Migrate from Docker Compose to Kubernetes",fileUniqID:"94912260e3bfbb7ae0efa417fe5ca43a"})</script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-TKPDMS3")</script></head><body data-url=/move2kube/tutorials/migratedockercomposekube/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/><img src=/images/konveyor_logo.png></img></a>
<a href=https://github.com/konveyor/konveyor.github.io>Documentation source code</a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js></script>
<script type=text/javascript src=/js/auto-complete.js></script>
<script type=text/javascript>var baseurl="http://konveyor.github.io/"</script><script type=text/javascript src=/js/search.js></script></div><div class=highlightable><ul class=topics><li data-nav-id=/konveyor/ title=Konveyor class=dd-item><a href=/konveyor/>Konveyor</a><ul><li data-nav-id=/konveyor/contributetokonveyor/ title="Contributing To Konveyor" class=dd-item><a href=/konveyor/contributetokonveyor/>Contributing To Konveyor</a></li><li data-nav-id=/konveyor/admintasks/ title="Administrator view tasks" class=dd-item><a href=/konveyor/admintasks/>Administrator view tasks</a></li><li data-nav-id=/konveyor/views/ title=Views class=dd-item><a href=/konveyor/views/>Views</a></li><li data-nav-id=/konveyor/instances/ title="Seeding Instances" class=dd-item><a href=/konveyor/instances/>Seeding Instances</a></li><li data-nav-id=/konveyor/installation/ title="Installing Konveyor" class=dd-item><a href=/konveyor/installation/>Installing Konveyor</a></li><li data-nav-id=/konveyor/assessanalyze/ title="Assessing and analyzing applications" class=dd-item><a href=/konveyor/assessanalyze/>Assessing and analyzing applications</a></li><li data-nav-id=/konveyor/addapps/ title="Adding applications" class=dd-item><a href=/konveyor/addapps/>Adding applications</a></li></ul></li><li data-nav-id=/move2kube/ title=Move2Kube class="dd-item
parent"><a href=/move2kube/>Move2Kube</a><ul><li data-nav-id=/move2kube/concepts/ title=Concepts class=dd-item><a href=/move2kube/concepts/>Concepts</a></li><li data-nav-id=/move2kube/installation/ title=Installation class=dd-item><a href=/move2kube/installation/>Installation</a><ul><li data-nav-id=/move2kube/installation/installweb/ title="Web Interface" class=dd-item><a href=/move2kube/installation/installweb/>Web Interface</a></li><li data-nav-id=/move2kube/installation/installcli/ title="Command line tool" class=dd-item><a href=/move2kube/installation/installcli/>Command line tool</a></li></ul></li><li data-nav-id=/move2kube/commands/ title=Commands class=dd-item><a href=/move2kube/commands/>Commands</a></li><li data-nav-id=/move2kube/transformers/ title=Transformers class=dd-item><a href=/move2kube/transformers/>Transformers</a></li><li data-nav-id=/move2kube/tutorials/ title=Tutorials class="dd-item
parent"><a href=/move2kube/tutorials/>Tutorials</a><ul><li data-nav-id=/move2kube/tutorials/usingcli/ title="Using Move2Kube CLI" class=dd-item><a href=/move2kube/tutorials/usingcli/>Using Move2Kube CLI</a></li><li data-nav-id=/move2kube/tutorials/usingui/ title="Using Move2Kube UI" class=dd-item><a href=/move2kube/tutorials/usingui/>Using Move2Kube UI</a></li><li data-nav-id=/move2kube/tutorials/cfappstok8/ title="Migrating Enterprise Scale Cloud Foundry Apps to Kubernetes" class=dd-item><a href=/move2kube/tutorials/cfappstok8/>Migrating Enterprise Scale Cloud Foundry Apps to Kubernetes</a><ul><li data-nav-id=/move2kube/tutorials/cfappstok8/1collect/ title="1. Collect" class=dd-item><a href=/move2kube/tutorials/cfappstok8/1collect/>1. Collect</a></li><li data-nav-id=/move2kube/tutorials/cfappstok8/2plan/ title="2. Plan" class=dd-item><a href=/move2kube/tutorials/cfappstok8/2plan/>2. Plan</a></li><li data-nav-id=/move2kube/tutorials/cfappstok8/3transform/ title="3. Transform" class=dd-item><a href=/move2kube/tutorials/cfappstok8/3transform/>3. Transform</a></li></ul></li><li data-nav-id=/move2kube/tutorials/customizeoutput/ title="Customizing the output" class=dd-item><a href=/move2kube/tutorials/customizeoutput/>Customizing the output</a><ul><li data-nav-id=/move2kube/tutorials/customizeoutput/addcustfiledir/ title="Add custom files and directories in custom locations" class=dd-item><a href=/move2kube/tutorials/customizeoutput/addcustfiledir/>Add custom files and directories in custom locations</a></li><li data-nav-id=/move2kube/tutorials/customizeoutput/paramcustomfieldshelm/ title="Parameterizing custom fields in Helm Chart, Kustomize, OC templates" class=dd-item><a href=/move2kube/tutorials/customizeoutput/paramcustomfieldshelm/>Parameterizing custom fields in Helm Chart, Kustomize, OC templates</a></li><li data-nav-id=/move2kube/tutorials/customizeoutput/customannotationsyaml/ title="Add custom annotations to Kubernetes YAMLs" class=dd-item><a href=/move2kube/tutorials/customizeoutput/customannotationsyaml/>Add custom annotations to Kubernetes YAMLs</a></li><li data-nav-id=/move2kube/tutorials/customizeoutput/customgendockerfile/ title="Customize generated Dockerfile and built-in transformer behavior" class=dd-item><a href=/move2kube/tutorials/customizeoutput/customgendockerfile/>Customize generated Dockerfile and built-in transformer behavior</a></li></ul></li><li data-nav-id=/move2kube/tutorials/customkubeyaml/ title="Customize Kubernetes YAMLs to target specific clusters" class=dd-item><a href=/move2kube/tutorials/customkubeyaml/>Customize Kubernetes YAMLs to target specific clusters</a></li><li data-nav-id=/move2kube/tutorials/createhelmchartskustomize/ title="Create Helm-charts, Kustomize overlays from Kubernetes Yamls" class=dd-item><a href=/move2kube/tutorials/createhelmchartskustomize/>Create Helm-charts, Kustomize overlays from Kubernetes Yamls</a></li><li data-nav-id=/move2kube/tutorials/createwincontainersnet/ title="Create and deploy Windows .NET containers" class=dd-item><a href=/move2kube/tutorials/createwincontainersnet/>Create and deploy Windows .NET containers</a></li><li data-nav-id=/move2kube/tutorials/migratedeploynetcore/ title="Migrate and deploy .NET Core applications to Kubernetes" class=dd-item><a href=/move2kube/tutorials/migratedeploynetcore/>Migrate and deploy .NET Core applications to Kubernetes</a></li><li data-nav-id=/move2kube/tutorials/migratedockercomposekube/ title="Migrate from Docker Compose to Kubernetes" class="dd-item active"><a href=/move2kube/tutorials/migratedockercomposekube/>Migrate from Docker Compose to Kubernetes</a></li><li data-nav-id=/move2kube/tutorials/migratedeploycfapps/ title="Migrate and deploy Cloud Foundry applications to Kubernetes" class=dd-item><a href=/move2kube/tutorials/migratedeploycfapps/>Migrate and deploy Cloud Foundry applications to Kubernetes</a></li><li data-nav-id=/move2kube/tutorials/runnoninteractively/ title="Run transforms non-interactively" class=dd-item><a href=/move2kube/tutorials/runnoninteractively/>Run transforms non-interactively</a></li></ul></li></ul></li></ul><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>Migrate from Docker Compose to Kubernetes</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#overview>Overview</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Migrate from Docker Compose to Kubernetes</h1><p>Move2Kube automatically analyzes all the YAML files in the docker-compose directory and transforms and creates all artifacts required for deploying the application in Kubernetes using the <code>transform</code> command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ move2kube transform -s docker-compose
</span></span></code></pre></div><h2 id=prerequisites>Prerequisites</h2><ul><li>Install the Move2Kube CLI tool.</li></ul><blockquote><p><strong>Note:</strong> This tutorial has been created with <code>v0.3.3-rc.2</code> version of Move2Kube.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ MOVE2KUBE_TAG<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;v0.3.3-rc.2&#39;</span> bash &lt;<span style=color:#f92672>(</span>curl https://raw.githubusercontent.com/konveyor/move2kube/main/scripts/install.sh<span style=color:#f92672>)</span>
</span></span></code></pre></div><ul><li>Install a Kubernetes cluster from <a href=https://minikube.sigs.k8s.io/docs/start/>MiniKube</a>.</li></ul><h2 id=overview>Overview</h2><p>This tutorial shows how to migrate an application written for Docker Compose to run on Kubernetes using the two <a href=https://github.com/konveyor/move2kube-demos/tree/main/samples/docker-compose>Docker Compose</a> samples from the <a href=https://github.com/konveyor/move2kube-demos>move2kube-demos</a> repo.</p><ul><li><p><a href=https://github.com/konveyor/move2kube-demos/tree/main/samples/docker-compose/single-service>Sample 1</a> is a web app with a single service using Nginx and a prebuilt image.</p></li><li><p><a href=https://github.com/konveyor/move2kube-demos/tree/main/samples/docker-compose/multiple-services>Sample 2</a> is more complicated. It is also a web app, but it has three services.</p><ul><li>A frontend written in PHP for Apache.</li><li>An API backend written for NodeJS.</li><li>A service for caching the calculations performed by the backend.</li></ul></li></ul><p>For the cache service use a prebuilt Redis image for this tutorial.</p><p>Below are the steps for migrating the second sample. The steps for the first sample are similar except that since it uses prebuilt images, skip the build and push the images portion.</p><p><strong>Procedure</strong></p><ol><li>Download the <code>samples/docker-compose/multiple-services</code> sample.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ curl https://move2kube.konveyor.io/scripts/download.sh | bash -s -- -d samples/docker-compose/multiple-services -r move2kube-demos
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>$ ls
</span></span><span style=display:flex><span>multiple-services
</span></span></code></pre></div><ol start=2><li>Run the planning phase.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ move2kube plan -s multiple-services/
</span></span><span style=display:flex><span>INFO[0000] Configuration loading done
</span></span><span style=display:flex><span>INFO[0000] Start planning
</span></span><span style=display:flex><span>INFO[0000] Planning started on the base directory
</span></span><span style=display:flex><span>INFO[0000] [CloudFoundry] Planning
</span></span><span style=display:flex><span>INFO[0000] [CloudFoundry] Done
</span></span><span style=display:flex><span>INFO[0000] [ComposeAnalyser] Planning
</span></span><span style=display:flex><span>INFO[0000] Identified 3 named services and 0 to-be-named services
</span></span><span style=display:flex><span>INFO[0000] [ComposeAnalyser] Done
</span></span><span style=display:flex><span>INFO[0000] [DockerfileDetector] Planning
</span></span><span style=display:flex><span>INFO[0000] Identified 1 named services and 1 to-be-named services
</span></span><span style=display:flex><span>INFO[0000] [DockerfileDetector] Done
</span></span><span style=display:flex><span>INFO[0000] [Base Directory] Identified 4 named services and 1 to-be-named services
</span></span><span style=display:flex><span>INFO[0000] Planning finished on the base directory
</span></span><span style=display:flex><span>INFO[0000] Planning started on its sub directories
</span></span><span style=display:flex><span>INFO[0000] Identified 1 named services and 0 to-be-named services in api
</span></span><span style=display:flex><span>INFO[0000] Identified 1 named services and 0 to-be-named services in web
</span></span><span style=display:flex><span>INFO[0000] Planning finished on its sub directories
</span></span><span style=display:flex><span>INFO[0000] [Directory Walk] Identified 4 named services and 2 to-be-named services
</span></span><span style=display:flex><span>INFO[0000] [Named Services] Identified 3 named services
</span></span><span style=display:flex><span>INFO[0000] Planning done
</span></span><span style=display:flex><span>INFO[0000] No of services identified : 3
</span></span><span style=display:flex><span>INFO[0000] Plan can be found at [/Users/user/Desktop/tutorial/m2k.plan]
</span></span></code></pre></div><ol start=3><li>Inspect the plan to verify all three services were detected.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ cat m2k.plan
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>move2kube.konveyor.io/v1alpha1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Plan</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>myproject</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>sourceDir</span>: <span style=color:#ae81ff>multiple-services</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>api</span>:
</span></span><span style=display:flex><span>          - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>ComposeAnalyser</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>DockerCompose</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>docker-compose.yaml</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>Dockerfile</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>api/Dockerfile</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>ServiceDirectories</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>api</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>configs</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>ComposeService</span>:
</span></span><span style=display:flex><span>                <span style=color:#f92672>serviceName</span>: <span style=color:#ae81ff>api</span>
</span></span><span style=display:flex><span>          - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>Nodejs-Dockerfile</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>ServiceDirectories</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>api</span>
</span></span><span style=display:flex><span>          - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>DockerfileDetector</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>Dockerfile</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>api/Dockerfile</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>ServiceDirectories</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>api</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>redis</span>:
</span></span><span style=display:flex><span>          - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>ComposeAnalyser</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>DockerCompose</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>docker-compose.yaml</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>configs</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>ComposeService</span>:
</span></span><span style=display:flex><span>                <span style=color:#f92672>serviceName</span>: <span style=color:#ae81ff>redis</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>web</span>:
</span></span><span style=display:flex><span>          - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>ComposeAnalyser</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>DockerCompose</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>docker-compose.yaml</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>Dockerfile</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>web/Dockerfile</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>ServiceDirectories</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>web</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>configs</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>ComposeService</span>:
</span></span><span style=display:flex><span>                <span style=color:#f92672>serviceName</span>: <span style=color:#ae81ff>web</span>
</span></span><span style=display:flex><span>          - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>DockerfileDetector</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>Dockerfile</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>web/Dockerfile</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>ServiceDirectories</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>web</span>
</span></span><span style=display:flex><span>          - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>PHP-Dockerfile</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>ServiceDirectories</span>:
</span></span><span style=display:flex><span>                - <span style=color:#ae81ff>web</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>transformers</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>ArgoCD</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/argocd/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Buildconfig</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/buildconfig/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>CloudFoundry</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/cloudfoundry/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>ClusterSelector</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/clusterselector/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>ComposeAnalyser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/compose/composeanalyser/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>ComposeGenerator</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/compose/composegenerator/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>ContainerImagesPushScriptGenerator</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/containerimagespushscript/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>DockerfileDetector</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfile/dockerfiledetector/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>DockerfileImageBuildScript</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfile/dockerimagebuildscript/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>DockerfileParser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfile/dockerfileparser/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>DotNetCore-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/dotnetcore/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>EarAnalyser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/earanalyser/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>EarRouter</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/earrouter/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Golang-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/golang/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Gradle</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/gradle/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Jar</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/jar/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Jboss</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/jboss/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Knative</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/knative/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Kubernetes</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/kubernetes/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>KubernetesVersionChanger</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/kubernetesversionchanger/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Liberty</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/liberty/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Maven</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/maven/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Nodejs-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/nodejs/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>PHP-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/php/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Parameterizer</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/parameterizer/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Python-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/python/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>ReadMeGenerator</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/readmegenerator/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Ruby-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/ruby/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Rust-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/rust/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Tekton</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/tekton/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>Tomcat</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/tomcat/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>WarAnalyser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/waranalyser/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>WarRouter</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/warrouter/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>WinConsoleApp-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/windows/winconsole/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>WinSLWebApp-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/windows/winsilverlightweb/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>WinWebApp-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/windows/winweb/transformer.yaml</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>ZuulAnalyser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/zuul/transformer.yaml</span>
</span></span></code></pre></div><ol start=4><li>Run the transformation phase.</li></ol><blockquote><p><strong>Important:</strong> For most prompts, accept the default in this tutorial. However, some prompts to watch out for are:</p></blockquote><ul><li><strong>Kind of service/ingress created for the <code>redis</code> service:</strong>. Select <code>ClusterIP</code> so the service port will not be exposed via the Ingress.</li><li><strong>Exposed &lsquo;web&rsquo; service URL path:</strong> Since most website frontends are built to be served under <code>/</code> use that instead of <code>/web</code>.</li><li><strong>Image registry URL and image registry namespace:</strong> The image registry URL is where the container images will be pushed after building Docker Hub (index.docker.io), Quay (quay.io), IBM Cloud Container Registry (us.icr.io), etc. The <code>namespace</code> here means the username on the target image registry and not the Kubernetes cluster namespace.</li><li><strong>Ingress host and TLS secret:</strong> If deploying to MiniKube, use <code>localhost</code> as the ingress host domain. If deploying to a Kubernetes cluster on IBM Cloud, then find the ingress subdomain on the cluster on IBM Cloud as shown here. Leave the TLS secret blank.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ move2kube transform
</span></span><span style=display:flex><span>INFO[0000] Detected a plan file at path /Users/user/Desktop/tutorial/m2k.plan. Will transform using this plan.
</span></span><span style=display:flex><span>? Select all transformer types that you are interested in:
</span></span><span style=display:flex><span>ID: move2kube.transformers.types
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Services that don&#39;t support any of the transformer types you are interested in will be ignored.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> ArgoCD, Buildconfig, CloudFoundry, ClusterSelector, ComposeAnalyser, ComposeGenerator, ContainerImagesPushScriptGenerator, DockerfileDetector, DockerfileImageBuildScript, DockerfileParser, DotNetCore-Dockerfile, EarAnalyser, EarRouter, Golang-Dockerfile, Gradle, Jar, Jboss, Knative, Kubernetes, KubernetesVersionChanger, Liberty, Maven, Nodejs-Dockerfile, PHP-Dockerfile, Parameterizer, Python-Dockerfile, ReadMeGenerator, Ruby-Dockerfile, Rust-Dockerfile, Tekton, Tomcat, WarAnalyser, WarRouter, WinConsoleApp-Dockerfile, WinSLWebApp-Dockerfile, WinWebApp-Dockerfile, ZuulAnalyser
</span></span><span style=display:flex><span>? Select all services that are needed:
</span></span><span style=display:flex><span>ID: move2kube.services.[].enable
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- The services unselected here will be ignored.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> api, redis, web
</span></span><span style=display:flex><span>INFO[0133] Iteration 1
</span></span><span style=display:flex><span>INFO[0133] Iteration 2 - 3 artifacts to process
</span></span><span style=display:flex><span>INFO[0133] Transformer ComposeAnalyser processing 3 artifacts
</span></span><span style=display:flex><span>INFO[0133] Transformer ZuulAnalyser processing 2 artifacts
</span></span><span style=display:flex><span>INFO[0133] Transformer ZuulAnalyser Done
</span></span><span style=display:flex><span>INFO[0133] Transformer ComposeAnalyser Done
</span></span><span style=display:flex><span>INFO[0133] Created 2 pathMappings and 4 artifacts. Total Path Mappings : 2. Total Artifacts : 3.
</span></span><span style=display:flex><span>INFO[0133] Iteration 3 - 4 artifacts to process
</span></span><span style=display:flex><span>INFO[0133] Transformer ClusterSelector processing 2 artifacts
</span></span><span style=display:flex><span>? Choose the cluster type:
</span></span><span style=display:flex><span>ID: move2kube.target.clustertype
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Choose the cluster type you would like to target
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> Kubernetes
</span></span><span style=display:flex><span>INFO[0179] Transformer ClusterSelector Done
</span></span><span style=display:flex><span>INFO[0179] Transformer ArgoCD processing 2 artifacts
</span></span><span style=display:flex><span>? What kind of service/ingress should be created for the service redis&#39;s 6379 port?
</span></span><span style=display:flex><span>ID: move2kube.services.&#34;redis&#34;.&#34;6379&#34;.servicetype
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Choose Ingress if you want a ingress/route resource to be created
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> ClusterIP
</span></span><span style=display:flex><span>? What kind of service/ingress should be created for the service api&#39;s 1234 port?
</span></span><span style=display:flex><span>ID: move2kube.services.&#34;api&#34;.&#34;1234&#34;.servicetype
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Choose Ingress if you want a ingress/route resource to be created
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> Ingress
</span></span><span style=display:flex><span>? Specify the ingress path to expose the service api&#39;s 1234 port on?
</span></span><span style=display:flex><span>ID: move2kube.services.&#34;api&#34;.&#34;1234&#34;.urlpath
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Leave out leading / to use first part as subdomain
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>/api
</span></span><span style=display:flex><span>? What kind of service/ingress should be created for the service web&#39;s 8080 port?
</span></span><span style=display:flex><span>ID: move2kube.services.&#34;web&#34;.&#34;8080&#34;.servicetype
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Choose Ingress if you want a ingress/route resource to be created
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> Ingress
</span></span><span style=display:flex><span>? Specify the ingress path to expose the service web&#39;s 8080 port on?
</span></span><span style=display:flex><span>ID: move2kube.services.&#34;web&#34;.&#34;8080&#34;.urlpath
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Leave out leading / to use first part as subdomain
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>/
</span></span><span style=display:flex><span>? Provide the minimum number of replicas each service should have
</span></span><span style=display:flex><span>ID: move2kube.minreplicas
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- If the value is 0 pods won&#39;t be started by default
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> 2
</span></span><span style=display:flex><span>? Enter the URL of the image registry :
</span></span><span style=display:flex><span>ID: move2kube.target.imageregistry.url
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- You can always change it later by changing the yamls.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> quay.io
</span></span><span style=display:flex><span>? Enter the namespace where the new images should be pushed :
</span></span><span style=display:flex><span>ID: move2kube.target.imageregistry.namespace
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Ex : myproject
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> move2kube
</span></span><span style=display:flex><span>? [quay.io] What type of container registry login do you want to use?
</span></span><span style=display:flex><span>ID: move2kube.target.imageregistry.logintype
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Docker login from config mode, will use the default config from your local machine.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> No authentication
</span></span><span style=display:flex><span>INFO[1487] Transformer ArgoCD Done
</span></span><span style=display:flex><span>INFO[1487] Transformer ClusterSelector processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1487] Transformer ClusterSelector Done
</span></span><span style=display:flex><span>INFO[1487] Transformer Buildconfig processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1487] Transformer Buildconfig Done
</span></span><span style=display:flex><span>INFO[1487] Transformer ComposeGenerator processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1487] Transformer ComposeGenerator Done
</span></span><span style=display:flex><span>INFO[1487] Transformer DockerfileImageBuildScript processing 3 artifacts
</span></span><span style=display:flex><span>? Select the container runtime to use :
</span></span><span style=display:flex><span>ID: move2kube.containerruntime
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- The container runtime selected will be used in the scripts
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>docker
</span></span><span style=display:flex><span>INFO[1492] Transformer DockerfileImageBuildScript Done
</span></span><span style=display:flex><span>INFO[1492] Transformer ClusterSelector processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1492] Transformer ClusterSelector Done
</span></span><span style=display:flex><span>INFO[1492] Transformer Knative processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1492] Transformer Knative Done
</span></span><span style=display:flex><span>INFO[1492] Transformer ClusterSelector processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1492] Transformer ClusterSelector Done
</span></span><span style=display:flex><span>INFO[1492] Transformer Kubernetes processing 2 artifacts
</span></span><span style=display:flex><span>? Provide the ingress host domain
</span></span><span style=display:flex><span>ID: move2kube.target.ingress.host
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Ingress host domain is part of service URL
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>localhost
</span></span><span style=display:flex><span>? Provide the TLS secret for ingress
</span></span><span style=display:flex><span>ID: move2kube.target.ingress.tls
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>- Leave empty to use http
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>INFO[1499] Transformer Kubernetes Done
</span></span><span style=display:flex><span>INFO[1499] Transformer ClusterSelector processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1499] Transformer ClusterSelector Done
</span></span><span style=display:flex><span>INFO[1499] Transformer Tekton processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1499] Transformer Tekton Done
</span></span><span style=display:flex><span>INFO[1499] Created 33 pathMappings and 11 artifacts. Total Path Mappings : 35. Total Artifacts : 7.
</span></span><span style=display:flex><span>INFO[1499] Iteration 4 - 11 artifacts to process
</span></span><span style=display:flex><span>INFO[1499] Transformer ContainerImagesPushScriptGenerator processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1499] Transformer ContainerImagesPushScriptGenerator Done
</span></span><span style=display:flex><span>INFO[1499] Transformer Parameterizer processing 5 artifacts
</span></span><span style=display:flex><span>INFO[1499] Transformer Parameterizer Done
</span></span><span style=display:flex><span>INFO[1499] Transformer ReadMeGenerator processing 5 artifacts
</span></span><span style=display:flex><span>INFO[1500] Transformer ReadMeGenerator Done
</span></span><span style=display:flex><span>INFO[1500] Created 17 pathMappings and 1 artifacts. Total Path Mappings : 52. Total Artifacts : 18.
</span></span><span style=display:flex><span>INFO[1500] Iteration 5 - 1 artifacts to process
</span></span><span style=display:flex><span>INFO[1500] Transformer ReadMeGenerator processing 2 artifacts
</span></span><span style=display:flex><span>INFO[1500] Transformer ReadMeGenerator Done
</span></span><span style=display:flex><span>INFO[1500] Transformation done
</span></span><span style=display:flex><span>INFO[1500] Transformed target artifacts can be found at [/Users/user/Desktop/tutorial/myproject].
</span></span></code></pre></div><p>The tranformatin is complete.</p><ol start=5><li>View the transformation output.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>    # click to see the output
</span></span><span style=display:flex><span>    $ ls
</span></span><span style=display:flex><span>    docker-compose		m2k.plan		m2kqacache.yaml		myproject docker-compose.zip	m2kconfig.yaml		multiple-services
</span></span><span style=display:flex><span>    $ tree myproject/
</span></span><span style=display:flex><span>    myproject/
</span></span><span style=display:flex><span>    ├── Readme.md
</span></span><span style=display:flex><span>    ├── deploy
</span></span><span style=display:flex><span>    │   ├── cicd
</span></span><span style=display:flex><span>    │   │   ├── argocd
</span></span><span style=display:flex><span>    │   │   │   └── myproject-deploy-application.yaml
</span></span><span style=display:flex><span>    │   │   ├── argocd-parameterized
</span></span><span style=display:flex><span>    │   │   │   ├── helm-chart
</span></span><span style=display:flex><span>    │   │   │   │   └── myproject
</span></span><span style=display:flex><span>    │   │   │   │       ├── Chart.yaml
</span></span><span style=display:flex><span>    │   │   │   │       └── templates
</span></span><span style=display:flex><span>    │   │   │   │           └── myproject-deploy-application.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── kustomize
</span></span><span style=display:flex><span>    │   │   │   │   └── base
</span></span><span style=display:flex><span>    │   │   │   │       ├── kustomization.yaml
</span></span><span style=display:flex><span>    │   │   │   │       └── myproject-deploy-application.yaml
</span></span><span style=display:flex><span>    │   │   │   └── openshift-template
</span></span><span style=display:flex><span>    │   │   │       └── template.yaml
</span></span><span style=display:flex><span>    │   │   ├── tekton
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-clone-build-push-pipeline.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-clone-push-serviceaccount.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-git-event-triggerbinding.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-git-repo-eventlistener.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-image-registry-secret.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-ingress.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-run-clone-build-push-triggertemplate.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-tekton-triggers-admin-role.yaml
</span></span><span style=display:flex><span>    │   │   │   ├── myproject-tekton-triggers-admin-rolebinding.yaml
</span></span><span style=display:flex><span>    │   │   │   └── myproject-tekton-triggers-admin-serviceaccount.yaml
</span></span><span style=display:flex><span>    │   │   └── tekton-parameterized
</span></span><span style=display:flex><span>    │   │       ├── helm-chart
</span></span><span style=display:flex><span>    │   │       │   └── myproject
</span></span><span style=display:flex><span>    │   │       │       ├── Chart.yaml
</span></span><span style=display:flex><span>    │   │       │       └── templates
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-clone-build-push-pipeline.yaml
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-clone-push-serviceaccount.yaml
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-git-event-triggerbinding.yaml
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-git-repo-eventlistener.yaml
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-image-registry-secret.yaml
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-ingress.yaml
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-run-clone-build-push-triggertemplate.yaml
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-tekton-triggers-admin-role.yaml
</span></span><span style=display:flex><span>    │   │       │           ├── myproject-tekton-triggers-admin-rolebinding.yaml
</span></span><span style=display:flex><span>    │   │       │           └── myproject-tekton-triggers-admin-serviceaccount.yaml
</span></span><span style=display:flex><span>    │   │       ├── kustomize
</span></span><span style=display:flex><span>    │   │       │   └── base
</span></span><span style=display:flex><span>    │   │       │       ├── kustomization.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-clone-build-push-pipeline.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-clone-push-serviceaccount.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-git-event-triggerbinding.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-git-repo-eventlistener.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-image-registry-secret.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-ingress.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-run-clone-build-push-triggertemplate.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-tekton-triggers-admin-role.yaml
</span></span><span style=display:flex><span>    │   │       │       ├── myproject-tekton-triggers-admin-rolebinding.yaml
</span></span><span style=display:flex><span>    │   │       │       └── myproject-tekton-triggers-admin-serviceaccount.yaml
</span></span><span style=display:flex><span>    │   │       └── openshift-template
</span></span><span style=display:flex><span>    │   │           └── template.yaml
</span></span><span style=display:flex><span>    │   ├── compose
</span></span><span style=display:flex><span>    │   │   └── docker-compose.yaml
</span></span><span style=display:flex><span>    │   ├── knative
</span></span><span style=display:flex><span>    │   │   ├── api-service.yaml
</span></span><span style=display:flex><span>    │   │   ├── redis-service.yaml
</span></span><span style=display:flex><span>    │   │   └── web-service.yaml
</span></span><span style=display:flex><span>    │   ├── knative-parameterized
</span></span><span style=display:flex><span>    │   │   ├── helm-chart
</span></span><span style=display:flex><span>    │   │   │   └── myproject
</span></span><span style=display:flex><span>    │   │   │       ├── Chart.yaml
</span></span><span style=display:flex><span>    │   │   │       └── templates
</span></span><span style=display:flex><span>    │   │   │           ├── api-service.yaml
</span></span><span style=display:flex><span>    │   │   │           ├── redis-service.yaml
</span></span><span style=display:flex><span>    │   │   │           └── web-service.yaml
</span></span><span style=display:flex><span>    │   │   ├── kustomize
</span></span><span style=display:flex><span>    │   │   │   └── base
</span></span><span style=display:flex><span>    │   │   │       ├── api-service.yaml
</span></span><span style=display:flex><span>    │   │   │       ├── kustomization.yaml
</span></span><span style=display:flex><span>    │   │   │       ├── redis-service.yaml
</span></span><span style=display:flex><span>    │   │   │       └── web-service.yaml
</span></span><span style=display:flex><span>    │   │   └── openshift-template
</span></span><span style=display:flex><span>    │   │       └── template.yaml
</span></span><span style=display:flex><span>    │   ├── yamls
</span></span><span style=display:flex><span>    │   │   ├── api-deployment.yaml
</span></span><span style=display:flex><span>    │   │   ├── api-service.yaml
</span></span><span style=display:flex><span>    │   │   ├── myproject-ingress.yaml
</span></span><span style=display:flex><span>    │   │   ├── redis-deployment.yaml
</span></span><span style=display:flex><span>    │   │   ├── redis-service.yaml
</span></span><span style=display:flex><span>    │   │   ├── web-deployment.yaml
</span></span><span style=display:flex><span>    │   │   └── web-service.yaml
</span></span><span style=display:flex><span>    │   └── yamls-parameterized
</span></span><span style=display:flex><span>    │       ├── helm-chart
</span></span><span style=display:flex><span>    │       │   └── myproject
</span></span><span style=display:flex><span>    │       │       ├── Chart.yaml
</span></span><span style=display:flex><span>    │       │       ├── templates
</span></span><span style=display:flex><span>    │       │       │   ├── api-deployment.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── api-service.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── myproject-ingress.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── redis-deployment.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── redis-service.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── web-deployment.yaml
</span></span><span style=display:flex><span>    │       │       │   └── web-service.yaml
</span></span><span style=display:flex><span>    │       │       ├── values-dev.yaml
</span></span><span style=display:flex><span>    │       │       ├── values-prod.yaml
</span></span><span style=display:flex><span>    │       │       └── values-staging.yaml
</span></span><span style=display:flex><span>    │       ├── kustomize
</span></span><span style=display:flex><span>    │       │   ├── base
</span></span><span style=display:flex><span>    │       │   │   ├── api-deployment.yaml
</span></span><span style=display:flex><span>    │       │   │   ├── api-service.yaml
</span></span><span style=display:flex><span>    │       │   │   ├── kustomization.yaml
</span></span><span style=display:flex><span>    │       │   │   ├── myproject-ingress.yaml
</span></span><span style=display:flex><span>    │       │   │   ├── redis-deployment.yaml
</span></span><span style=display:flex><span>    │       │   │   ├── redis-service.yaml
</span></span><span style=display:flex><span>    │       │   │   ├── web-deployment.yaml
</span></span><span style=display:flex><span>    │       │   │   └── web-service.yaml
</span></span><span style=display:flex><span>    │       │   └── overlays
</span></span><span style=display:flex><span>    │       │       ├── dev
</span></span><span style=display:flex><span>    │       │       │   ├── apps-v1-deployment-api.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── apps-v1-deployment-redis.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── apps-v1-deployment-web.yaml
</span></span><span style=display:flex><span>    │       │       │   └── kustomization.yaml
</span></span><span style=display:flex><span>    │       │       ├── prod
</span></span><span style=display:flex><span>    │       │       │   ├── apps-v1-deployment-api.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── apps-v1-deployment-redis.yaml
</span></span><span style=display:flex><span>    │       │       │   ├── apps-v1-deployment-web.yaml
</span></span><span style=display:flex><span>    │       │       │   └── kustomization.yaml
</span></span><span style=display:flex><span>    │       │       └── staging
</span></span><span style=display:flex><span>    │       │           ├── apps-v1-deployment-api.yaml
</span></span><span style=display:flex><span>    │       │           ├── apps-v1-deployment-redis.yaml
</span></span><span style=display:flex><span>    │       │           ├── apps-v1-deployment-web.yaml
</span></span><span style=display:flex><span>    │       │           └── kustomization.yaml
</span></span><span style=display:flex><span>    │       └── openshift-template
</span></span><span style=display:flex><span>    │           ├── parameters-dev.yaml
</span></span><span style=display:flex><span>    │           ├── parameters-prod.yaml
</span></span><span style=display:flex><span>    │           ├── parameters-staging.yaml
</span></span><span style=display:flex><span>    │           └── template.yaml
</span></span><span style=display:flex><span>    ├── scripts
</span></span><span style=display:flex><span>    │   ├── builddockerimages.bat
</span></span><span style=display:flex><span>    │   ├── builddockerimages.sh
</span></span><span style=display:flex><span>    │   ├── pushimages.bat
</span></span><span style=display:flex><span>    │   └── pushimages.sh
</span></span><span style=display:flex><span>    └── source
</span></span><span style=display:flex><span>        ├── api
</span></span><span style=display:flex><span>        │   ├── Dockerfile
</span></span><span style=display:flex><span>        │   ├── index.js
</span></span><span style=display:flex><span>        │   ├── package-lock.json
</span></span><span style=display:flex><span>        │   └── package.json
</span></span><span style=display:flex><span>        ├── docker-compose.yaml
</span></span><span style=display:flex><span>        └── web
</span></span><span style=display:flex><span>            ├── Dockerfile
</span></span><span style=display:flex><span>            ├── fib.php
</span></span><span style=display:flex><span>            └── index.php
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    43 directories, 107 files
</span></span></code></pre></div><p>Inside the <code>scripts</code> directory note some helpful scripts that Move2Kube has generated to help build and push the needed container images.</p><ol start=6><li>Build all the images using the <code>builddockerimages.sh</code> script.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span># click to see the output
</span></span><span style=display:flex><span>$ cd myproject/
</span></span><span style=display:flex><span>$ ./builddockerimages.sh
</span></span><span style=display:flex><span>    [+] Building 4.3s (10/10) FINISHED                                                                                                                                
</span></span><span style=display:flex><span>     =&gt; [internal] load build definition from Dockerfile                                                                                                         0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; transferring dockerfile: 133B                                                                                                                         0.0s
</span></span><span style=display:flex><span>     =&gt; [internal] load .dockerignore                                                                                                                            0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; transferring context: 2B                                                                                                                              0.0s
</span></span><span style=display:flex><span>     =&gt; [internal] load metadata for docker.io/library/node:14                                                                                                   2.5s
</span></span><span style=display:flex><span>     =&gt; [auth] library/node:pull token for registry-1.docker.io                                                                                                  0.0s
</span></span><span style=display:flex><span>     =&gt; [internal] load build context                                                                                                                            0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; transferring context: 3.69kB                                                                                                                          0.0s
</span></span><span style=display:flex><span>     =&gt; [1/4] FROM docker.io/library/node:14@sha256:e5c6aac226819f88d6431a56f502972d323d052b1b6108094ba7e6b07154a542                                             0.0s
</span></span><span style=display:flex><span>     =&gt; CACHED [2/4] WORKDIR /app                                                                                                                                0.0s
</span></span><span style=display:flex><span>     =&gt; [3/4] COPY . .                                                                                                                                           0.0s
</span></span><span style=display:flex><span>     =&gt; [4/4] RUN npm install                                                                                                                                    1.5s
</span></span><span style=display:flex><span>     =&gt; exporting to image                                                                                                                                       0.1s
</span></span><span style=display:flex><span>     =&gt; =&gt; exporting layers                                                                                                                                      0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; writing image sha256:d5a8e3d3f05592f6edefe5df286c31c2327dbde4ad3d5832fc059f1a9381157a                                                                 0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; naming to docker.io/library/fibonacci-api:latest                                                                                                      0.0s
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    Use &#39;docker scan&#39; to run Snyk tests against images to find vulnerabilities and learn how to fix them
</span></span><span style=display:flex><span>    /Users/user/Desktop/tutorial/myproject
</span></span><span style=display:flex><span>    [+] Building 2.5s (8/8) FINISHED                                                                                                                                  
</span></span><span style=display:flex><span>     =&gt; [internal] load build definition from Dockerfile                                                                                                         0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; transferring dockerfile: 82B                                                                                                                          0.0s
</span></span><span style=display:flex><span>     =&gt; [internal] load .dockerignore                                                                                                                            0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; transferring context: 2B                                                                                                                              0.0s
</span></span><span style=display:flex><span>     =&gt; [internal] load metadata for docker.io/library/php:7-apache                                                                                              2.2s
</span></span><span style=display:flex><span>     =&gt; [auth] library/php:pull token for registry-1.docker.io                                                                                                   0.0s
</span></span><span style=display:flex><span>     =&gt; [internal] load build context                                                                                                                            0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; transferring context: 1.51kB                                                                                                                          0.0s
</span></span><span style=display:flex><span>     =&gt; CACHED [1/2] FROM docker.io/library/php:7-apache@sha256:729ad01c7d8e10fd992a6d4f3eb05dce3fb69bdf5c4fb4a9de4be4f4f5ae4dcc                                 0.0s
</span></span><span style=display:flex><span>     =&gt; [2/2] COPY . /var/www/html/                                                                                                                              0.0s
</span></span><span style=display:flex><span>     =&gt; exporting to image                                                                                                                                       0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; exporting layers                                                                                                                                      0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; writing image sha256:f5d91c6d96de3f8bb4c2c5d8bf6cde84985b7ee29d00ad21fad07e05cbe5ddca                                                                 0.0s
</span></span><span style=display:flex><span>     =&gt; =&gt; naming to docker.io/library/fibonacci-web:latest                                                                                                      0.0s
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    Use &#39;docker scan&#39; to run Snyk tests against images to find vulnerabilities and learn how to fix them
</span></span><span style=display:flex><span>    /Users/user/Desktop/tutorial/myproject
</span></span><span style=display:flex><span>    done
</span></span></code></pre></div><ol start=7><li>Push the images to the registry and namespace selected using the <code>pushimages.sh</code> script.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>    # click to see the output
</span></span><span style=display:flex><span>    $ ./pushimages.sh
</span></span><span style=display:flex><span>    The push refers to repository [quay.io/move2kube/fibonacci-web]
</span></span><span style=display:flex><span>    29db8d44d6a6: Pushed
</span></span><span style=display:flex><span>    10dfb82106c4: Layer already exists
</span></span><span style=display:flex><span>    7446d340e7f8: Layer already exists
</span></span><span style=display:flex><span>    55d40777afe6: Layer already exists
</span></span><span style=display:flex><span>    56543a169be6: Layer already exists
</span></span><span style=display:flex><span>    b299cffd87cb: Layer already exists
</span></span><span style=display:flex><span>    23946094ff3f: Layer already exists
</span></span><span style=display:flex><span>    6c39776a30a0: Layer already exists
</span></span><span style=display:flex><span>    564928686313: Layer already exists
</span></span><span style=display:flex><span>    6e4300c6b758: Layer already exists
</span></span><span style=display:flex><span>    ee0ca96d307e: Layer already exists
</span></span><span style=display:flex><span>    0fdfbbf7aebd: Layer already exists
</span></span><span style=display:flex><span>    2a3138346faa: Layer already exists
</span></span><span style=display:flex><span>    2edcec3590a4: Layer already exists
</span></span><span style=display:flex><span>    latest: digest: sha256:b34a669c75afda3dd4b8d5ef264a6f818cb394bb147d754d6e1a8699798a4c70 size: 3242
</span></span><span style=display:flex><span>    The push refers to repository [quay.io/move2kube/fibonacci-api]
</span></span><span style=display:flex><span>    aef80d5c2943: Pushed
</span></span><span style=display:flex><span>    4471bdef8049: Pushed
</span></span><span style=display:flex><span>    5825d126ab35: Layer already exists
</span></span><span style=display:flex><span>    d48d998e8307: Layer already exists
</span></span><span style=display:flex><span>    1f95b68fc83b: Layer already exists
</span></span><span style=display:flex><span>    c1a45f6975fa: Layer already exists
</span></span><span style=display:flex><span>    be099ea57c79: Layer already exists
</span></span><span style=display:flex><span>    2b2dfe091b20: Layer already exists
</span></span><span style=display:flex><span>    df74cf750cc8: Layer already exists
</span></span><span style=display:flex><span>    75a95a2ddc29: Layer already exists
</span></span><span style=display:flex><span>    e8fb9c1faa8f: Layer already exists
</span></span><span style=display:flex><span>    9d1a9278f26b: Layer already exists
</span></span><span style=display:flex><span>    latest: digest: sha256:521be8d409c29414274c912600dc7606b7db591f69abb2fbfb5e402ccb547878 size: 2840
</span></span></code></pre></div><blockquote><p><strong>Note:</strong> If using Quay.io, change the pushed repositories <code>visibility</code> to <code>Public</code> or the Kubernetes pods may fail to pull the images from the registry and could fail to start due to <code>ErrImagePullBack</code>.</p></blockquote><ol start=8><li>If there is a Kubernetes cluster already, log in to it. Or, start MiniKube to start a local Kubernetes cluster.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>    $ minikube start
</span></span><span style=display:flex><span>    😄  minikube v1.24.0 on Darwin 12.0.1
</span></span><span style=display:flex><span>    ✨  Using the docker driver based on existing profile
</span></span><span style=display:flex><span>    👍  Starting control plane node minikube in cluster minikube
</span></span><span style=display:flex><span>    🚜  Pulling base image ...
</span></span><span style=display:flex><span>    🏃  Updating the running docker &#34;minikube&#34; container ...
</span></span><span style=display:flex><span>    🐳  Preparing Kubernetes v1.22.3 on Docker 20.10.8 ...
</span></span><span style=display:flex><span>    🔎  Verifying Kubernetes components...
</span></span><span style=display:flex><span>        ▪ Using image gcr.io/k8s-minikube/storage-provisioner:v5
</span></span><span style=display:flex><span>    💡  After the addon is enabled, please run &#34;minikube tunnel&#34; and your ingress resources would be available at &#34;127.0.0.1&#34;
</span></span><span style=display:flex><span>        ▪ Using image k8s.gcr.io/ingress-nginx/controller:v1.0.4
</span></span><span style=display:flex><span>        ▪ Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1
</span></span><span style=display:flex><span>        ▪ Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1
</span></span><span style=display:flex><span>    🔎  Verifying ingress addon...
</span></span><span style=display:flex><span>    🌟  Enabled addons: storage-provisioner, default-storageclass, ingress
</span></span><span style=display:flex><span>    🏄  Done! kubectl is now configured to use &#34;minikube&#34; cluster and &#34;default&#34; namespace by default
</span></span></code></pre></div><blockquote><p><strong>Important:</strong> Enable the ingress addon.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>    $ minikube addons enable ingress
</span></span><span style=display:flex><span>    💡  After the addon is enabled, please run &#34;minikube tunnel&#34; and your ingress resources would be available at &#34;127.0.0.1&#34;
</span></span><span style=display:flex><span>        ▪ Using image k8s.gcr.io/ingress-nginx/controller:v1.0.4
</span></span><span style=display:flex><span>        ▪ Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1
</span></span><span style=display:flex><span>        ▪ Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1
</span></span><span style=display:flex><span>    🔎  Verifying ingress addon...
</span></span><span style=display:flex><span>    🌟  The &#39;ingress&#39; addon is enabled
</span></span></code></pre></div><ol start=9><li>Check if the kubectl related command will run.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ kubectl get pods
</span></span></code></pre></div><ol start=10><li>Deploy the Kubernetes YAMLs to the Kubernetes/MiniKube cluster.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ kubectl apply -f deploy/yamls
</span></span><span style=display:flex><span>deployment.apps/api created
</span></span><span style=display:flex><span>service/api created
</span></span><span style=display:flex><span>ingress.networking.k8s.io/myproject created
</span></span><span style=display:flex><span>deployment.apps/redis created
</span></span><span style=display:flex><span>service/redis created
</span></span><span style=display:flex><span>deployment.apps/web created
</span></span><span style=display:flex><span>service/web created
</span></span></code></pre></div><ol start=11><li>View all the Kubernetes resources that were created.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>    $ kubectl get all
</span></span><span style=display:flex><span>    NAME                        READY   STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>    pod/api-84fc6cf59f-6z4nl    1/1     Running   0          8h
</span></span><span style=display:flex><span>    pod/api-84fc6cf59f-72lmx    1/1     Running   0          8h
</span></span><span style=display:flex><span>    pod/redis-5c94584bb-c9zk5   1/1     Running   0          8h
</span></span><span style=display:flex><span>    pod/redis-5c94584bb-sv2zx   1/1     Running   0          8h
</span></span><span style=display:flex><span>    pod/web-999d4cc74-6ckbj     1/1     Running   0          8h
</span></span><span style=display:flex><span>    pod/web-999d4cc74-97hnc     1/1     Running   0          8h
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
</span></span><span style=display:flex><span>    service/api          ClusterIP   10.103.24.55    &lt;none&gt;        1234/TCP   8h
</span></span><span style=display:flex><span>    service/kubernetes   ClusterIP   10.96.0.1       &lt;none&gt;        443/TCP    12h
</span></span><span style=display:flex><span>    service/redis        ClusterIP   None            &lt;none&gt;        &lt;none&gt;     8h
</span></span><span style=display:flex><span>    service/web          ClusterIP   10.100.18.139   &lt;none&gt;        8080/TCP   8h
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    NAME                    READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span style=display:flex><span>    deployment.apps/api     2/2     2            2           8h
</span></span><span style=display:flex><span>    deployment.apps/redis   2/2     2            2           8h
</span></span><span style=display:flex><span>    deployment.apps/web     2/2     2            2           8h
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    NAME                              DESIRED   CURRENT   READY   AGE
</span></span><span style=display:flex><span>    replicaset.apps/api-84fc6cf59f    2         2         2       8h
</span></span><span style=display:flex><span>    replicaset.apps/redis-5c94584bb   2         2         2       8h
</span></span><span style=display:flex><span>    replicaset.apps/web-999d4cc74     2         2         2       8h
</span></span></code></pre></div><blockquote><p><strong>Important:</strong> This step is required only if the app has been deployed on MiniKube cluster.</p></blockquote><ol start=12><li>Access the running application using the Ingress created by starting a tunnel to the MiniKube cluster.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ minikube tunnel
</span></span><span style=display:flex><span>❗  The service/ingress myproject requires privileged ports to be exposed: [80 443]
</span></span><span style=display:flex><span>🔑  sudo permission will be asked for it.
</span></span><span style=display:flex><span>🏃  Starting tunnel for service myproject.
</span></span><span style=display:flex><span>Password:
</span></span></code></pre></div><ol start=13><li>Access the app on the ingress specified during the ingress host domain QA. (For MiniKube, it will be http://localhost).</li></ol><h2 id=conclusion>Conclusion</h2><p>In this tutorial showed hot to transform a Docker Compose application with multiple services. We used Move2Kube to come up with a plan for migration, transform the input using the plan, generate the appropriate build scripts, Kubernetes YAMLs, etc. and deployed them to MiniKube.</p><p><a href=https://github.com/konveyor/konveyor.github.io/blob/main/content/Move2Kube/Tutorials/migrateDockerComposeKube.md>Source</a></p><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js></script>
<script src=/js/perfect-scrollbar.min.js></script>
<script src=/js/perfect-scrollbar.jquery.min.js></script>
<script src=/js/jquery.sticky.js></script>
<script src=/js/featherlight.min.js></script>
<script src=/js/highlight.pack.js></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js></script>
<script src=/js/learn.js></script>
<script src=/js/hugo-learn.js></script>
<script src=https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKPDMS3" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript></body></html>