<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Customize Kubernetes YAMLs to target specific clusters | Konveyor</title>
<meta name=description content="Move2Kube already supports targeting across multiple clusters including: Kubernetes, Openshift, IBM-IKS, IBM-Openshift, Azure-EKS, Azure-AKS and GCP-GKS. There might be situations that require generating Kubernetes YAMLs to target a particular cluster. This tutorial shows how to use Konveyor Move2Kube to change the versions of existing Kubernetes resources to target a particular cluster. Move2Kube can also be customized to generate Kubernetes YAMLS deployable on a particular cluster.
Prerequisites
Install the Move2Kube CLI tool."><meta property="og:url" content="http://konveyor.io/docs/move2kube/tutorials/customkubeyaml/"><meta property="og:site_name" content="Konveyor"><meta property="og:title" content="Customize Kubernetes YAMLs to target specific clusters"><meta property="og:description" content="Move2Kube already supports targeting across multiple clusters including: Kubernetes, Openshift, IBM-IKS, IBM-Openshift, Azure-EKS, Azure-AKS and GCP-GKS. There might be situations that require generating Kubernetes YAMLs to target a particular cluster. This tutorial shows how to use Konveyor Move2Kube to change the versions of existing Kubernetes resources to target a particular cluster. Move2Kube can also be customized to generate Kubernetes YAMLS deployable on a particular cluster.
Prerequisites
Install the Move2Kube CLI tool."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-08-04T19:13:38-06:00"><meta property="article:modified_time" content="2022-08-04T19:13:38-06:00"><meta itemprop=name content="Customize Kubernetes YAMLs to target specific clusters"><meta itemprop=description content="Move2Kube already supports targeting across multiple clusters including: Kubernetes, Openshift, IBM-IKS, IBM-Openshift, Azure-EKS, Azure-AKS and GCP-GKS. There might be situations that require generating Kubernetes YAMLs to target a particular cluster. This tutorial shows how to use Konveyor Move2Kube to change the versions of existing Kubernetes resources to target a particular cluster. Move2Kube can also be customized to generate Kubernetes YAMLS deployable on a particular cluster.
Prerequisites
Install the Move2Kube CLI tool."><meta itemprop=datePublished content="2022-08-04T19:13:38-06:00"><meta itemprop=dateModified content="2022-08-04T19:13:38-06:00"><meta itemprop=wordCount content="1880"><meta name=twitter:card content="summary"><meta name=twitter:title content="Customize Kubernetes YAMLs to target specific clusters"><meta name=twitter:description content="Move2Kube already supports targeting across multiple clusters including: Kubernetes, Openshift, IBM-IKS, IBM-Openshift, Azure-EKS, Azure-AKS and GCP-GKS. There might be situations that require generating Kubernetes YAMLs to target a particular cluster. This tutorial shows how to use Konveyor Move2Kube to change the versions of existing Kubernetes resources to target a particular cluster. Move2Kube can also be customized to generate Kubernetes YAMLS deployable on a particular cluster.
Prerequisites
Install the Move2Kube CLI tool."><link rel=preload href=/scss/main.min.77559d28d58beff407c93ec03404ec14c991ebbb32362c90361ab4da92ac41f1.css as=style integrity="sha256-d1WdKNWL7/QHyT7ANATsFMmR67syNiyQNhq02pKsQfE=" crossorigin=anonymous><link href=/scss/main.min.77559d28d58beff407c93ec03404ec14c991ebbb32362c90361ab4da92ac41f1.css rel=stylesheet integrity="sha256-d1WdKNWL7/QHyT7ANATsFMmR67syNiyQNhq02pKsQfE=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-TKPDMS3")</script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg width="575.19pt" height="221.79pt" version="1.2" viewBox="0 0 575.19 221.79"><g transform="translate(-9.3672,-9.1211)"><path d="m174.6 82.258h38.348v14.941H174.6z"/><path d="m246.31 82.258h38.348v14.941H246.31z"/><path d="m209.96 14.031h38.348v14.941H209.96z"/></g><path d="m247.85 78.121h15.727c1.418.0 2.5586 1.1367 2.5586 2.5547s-1.1406 2.5586-2.5586 2.5586H247.85c-1.418.0-2.5586-1.1406-2.5586-2.5586s1.1406-2.5547 2.5586-2.5547m-70.941.0h15.727c1.4141.0 2.5586 1.1367 2.5586 2.5547s-1.1445 2.5586-2.5586 2.5586h-15.727c-1.4141.0-2.5586-1.1406-2.5586-2.5586s1.1445-2.5547 2.5586-2.5547m47.938-8.7539c-.8789.0-1.5859.70703-1.5859 1.582v61.738c0 .87891.70703 1.5859 1.5859 1.5859h61.734c.8789.0 1.582-.71094 1.582-1.5859v-61.738c0-.875-.70313-1.582-1.582-1.582zm-70.945.0c-.875.0-1.5781.70703-1.5781 1.582v61.738c0 .87891.70312 1.5859 1.5781 1.5859h61.742c.875.0 1.5781-.71094 1.5781-1.5859v-61.738c0-.875-.70312-1.582-1.5781-1.582zm58.477-60.613h15.727c1.418.0 2.5586 1.1367 2.5586 2.5547s-1.1406 2.5586-2.5586 2.5586h-15.727c-1.418.0-2.5547-1.1406-2.5547-2.5586s1.1367-2.5547 2.5547-2.5547m-23.004-8.7539c-.87891.0-1.5859.70703-1.5859 1.582v61.738c0 .875.70703 1.5781 1.5859 1.5781h61.738c.875.0 1.582-.70312 1.582-1.5781v-61.738c0-.875-.70703-1.582-1.582-1.582z" fill="#b09454"/><g transform="translate(-9.3672,-9.1211)" fill="#353688"><path d="m110.98 164c13.109.0 23.523 10.414 23.523 23.523.0 13.113-10.414 23.523-23.523 23.523s-23.523-10.41-23.523-23.523c0-13.109 10.414-23.523 23.523-23.523m0-19.871c-23.848.0-43.395 19.547-43.395 43.395.0 23.852 19.547 43.395 43.395 43.395 23.852.0 43.398-19.543 43.398-43.395.0-23.848-19.547-43.395-43.398-43.395"/><path d="m9.3672 224.48v-73.914h20.301v28.109l22.488-28.109h22.902l-26.859 33.105 28.734 40.809h-23.32l-18.324-27.172-5.6211 5.832v21.34z"/><path d="m181.01 188.14v36.332h-20.301v-73.914h15.824l29.672 37.582v-37.582h20.301v73.914h-16.137z"/><path d="m253.47 150.56 14.469 48.41 14.266-48.41h21.34l-27.172 73.914H259.51l-27.484-73.914z"/><path d="m361.84 206.78v17.695h-52.676v-73.914h51.742v17.699h-31.441v10.41h26.859v16.449h-26.859v11.66z"/><path d="m386.3 150.56 13.223 31.961 13.531-31.961h22.07l-25.504 49.449v24.465h-20.195v-24.672l-25.09-49.242z"/><path d="m541.04 184.09h12.805c1.25.0 2.3945-.69532 3.4375-2.082 1.1094-1.3906 1.6641-3.332 1.6641-5.832.0-2.5664-.625-4.5117-1.875-5.8281-1.2461-1.3867-2.4961-2.082-3.7461-2.082h-12.285zm-20.301 40.391v-73.914h33.938c3.6094.0 6.9414.76562 9.9961 2.293 3.0547 1.457 5.6562 3.3984 7.8086 5.8281 2.2188 2.3594 3.9531 5.1016 5.2031 8.2227 1.25 3.0547 1.875 6.1445 1.875 9.2656.0 4.3047-.9375 8.3281-2.8125 12.078-1.8711 3.6797-4.4766 6.6953-7.8086 9.0586l15.617 27.168h-22.902l-13.012-22.695h-7.6016v22.695z"/><path d="m471.77 164c13.109.0 23.523 10.414 23.523 23.523.0 13.113-10.414 23.523-23.523 23.523s-23.523-10.41-23.523-23.523c0-13.109 10.414-23.523 23.523-23.523m0-19.871c-23.848.0-43.395 19.547-43.395 43.395.0 23.852 19.547 43.395 43.395 43.395 23.852.0 43.398-19.543 43.398-43.395.0-23.848-19.547-43.395-43.398-43.395"/></g></svg></span><span class=navbar-brand__name>Konveyor</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class="nav-item sub-menu dropdown"><div class=dropdown><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Components</span></a><ul class="dropdown-menu dropdown-menu-end -bg-primary"><li><a class=dropdown-item href=/components/konveyor-hub>Konveyor Hub</a></li><li><a class=dropdown-item href=/components/konveyor-cli>Konveyor CLI</a></li><li><a class=dropdown-item href=/components/kai>Konveyor AI</a></li></ul></div></li><li class=nav-item><a class=nav-link href=/docs><span>Documentation</span></a></li><li class=nav-item><a class=nav-link href=/docs/konveyor/contributetokonveyor/><span>Community</span></a></li><li class=nav-item><a class=nav-link href=/ecosystem><span>Ecosystem</span></a></li><li class=nav-item><a class=nav-link href=/blog><span>Blog</span></a></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.e6dd4e442a7e621eed21f9217729c431.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.e6dd4e442a7e621eed21f9217729c431.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Konveyor Docs</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docskonveyor-li><input type=checkbox id=m-docskonveyor-check>
<label for=m-docskonveyor-check><a href=/docs/konveyor/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docskonveyor><span>Konveyor</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorcontributetokonveyor-li><input type=checkbox id=m-docskonveyorcontributetokonveyor-check>
<label for=m-docskonveyorcontributetokonveyor-check><a href=/docs/konveyor/contributetokonveyor/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorcontributetokonveyor><span>Contributing To Konveyor</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyoradmintasks-li><input type=checkbox id=m-docskonveyoradmintasks-check>
<label for=m-docskonveyoradmintasks-check><a href=/docs/konveyor/admintasks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyoradmintasks><span>Administrator view tasks</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorviews-li><input type=checkbox id=m-docskonveyorviews-check>
<label for=m-docskonveyorviews-check><a href=/docs/konveyor/views/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorviews><span>Views</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorinstances-li><input type=checkbox id=m-docskonveyorinstances-check>
<label for=m-docskonveyorinstances-check><a href=/docs/konveyor/instances/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorinstances><span>Seeding Instances</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorinstallation-li><input type=checkbox id=m-docskonveyorinstallation-check>
<label for=m-docskonveyorinstallation-check><a href=/docs/konveyor/installation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorinstallation><span>Installing Konveyor</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorassessanalyze-li><input type=checkbox id=m-docskonveyorassessanalyze-check>
<label for=m-docskonveyorassessanalyze-check><a href=/docs/konveyor/assessanalyze/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorassessanalyze><span>Assessing and analyzing applications</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyoraddapps-li><input type=checkbox id=m-docskonveyoraddapps-check>
<label for=m-docskonveyoraddapps-check><a href=/docs/konveyor/addapps/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyoraddapps><span>Adding applications</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsmove2kube-li><input type=checkbox id=m-docsmove2kube-check checked>
<label for=m-docsmove2kube-check><a href=/docs/move2kube/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kube><span>Move2Kube</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubeconcepts-li><input type=checkbox id=m-docsmove2kubeconcepts-check>
<label for=m-docsmove2kubeconcepts-check><a href=/docs/move2kube/concepts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubeconcepts><span>Concepts</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsmove2kubeinstallation-li><input type=checkbox id=m-docsmove2kubeinstallation-check>
<label for=m-docsmove2kubeinstallation-check><a href=/docs/move2kube/installation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kubeinstallation><span>Installation</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubeinstallationinstallweb-li><input type=checkbox id=m-docsmove2kubeinstallationinstallweb-check>
<label for=m-docsmove2kubeinstallationinstallweb-check><a href=/docs/move2kube/installation/installweb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubeinstallationinstallweb><span>Web Interface</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubeinstallationinstallcli-li><input type=checkbox id=m-docsmove2kubeinstallationinstallcli-check>
<label for=m-docsmove2kubeinstallationinstallcli-check><a href=/docs/move2kube/installation/installcli/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubeinstallationinstallcli><span>Command line tool</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubecommands-li><input type=checkbox id=m-docsmove2kubecommands-check>
<label for=m-docsmove2kubecommands-check><a href=/docs/move2kube/commands/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubecommands><span>Commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetransformers-li><input type=checkbox id=m-docsmove2kubetransformers-check>
<label for=m-docsmove2kubetransformers-check><a href=/docs/move2kube/transformers/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetransformers><span>Transformers</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsmove2kubetutorials-li><input type=checkbox id=m-docsmove2kubetutorials-check checked>
<label for=m-docsmove2kubetutorials-check><a href=/docs/move2kube/tutorials/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kubetutorials><span>Tutorials</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsusingcli-li><input type=checkbox id=m-docsmove2kubetutorialsusingcli-check>
<label for=m-docsmove2kubetutorialsusingcli-check><a href=/docs/move2kube/tutorials/usingcli/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsusingcli><span>Using Move2Kube CLI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsusingui-li><input type=checkbox id=m-docsmove2kubetutorialsusingui-check>
<label for=m-docsmove2kubetutorialsusingui-check><a href=/docs/move2kube/tutorials/usingui/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsusingui><span>Using Move2Kube UI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsmove2kubetutorialscfappstok8-li><input type=checkbox id=m-docsmove2kubetutorialscfappstok8-check>
<label for=m-docsmove2kubetutorialscfappstok8-check><a href=/docs/move2kube/tutorials/cfappstok8/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kubetutorialscfappstok8><span>Migrating Enterprise Scale Cloud Foundry Apps to Kubernetes</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscfappstok81collect-li><input type=checkbox id=m-docsmove2kubetutorialscfappstok81collect-check>
<label for=m-docsmove2kubetutorialscfappstok81collect-check><a href=/docs/move2kube/tutorials/cfappstok8/1collect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscfappstok81collect><span>1. Collect</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscfappstok82plan-li><input type=checkbox id=m-docsmove2kubetutorialscfappstok82plan-check>
<label for=m-docsmove2kubetutorialscfappstok82plan-check><a href=/docs/move2kube/tutorials/cfappstok8/2plan/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscfappstok82plan><span>2. Plan</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscfappstok83transform-li><input type=checkbox id=m-docsmove2kubetutorialscfappstok83transform-check>
<label for=m-docsmove2kubetutorialscfappstok83transform-check><a href=/docs/move2kube/tutorials/cfappstok8/3transform/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscfappstok83transform><span>3. Transform</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsmove2kubetutorialscustomizeoutput-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutput-check>
<label for=m-docsmove2kubetutorialscustomizeoutput-check><a href=/docs/move2kube/tutorials/customizeoutput/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kubetutorialscustomizeoutput><span>Customizing the output</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomizeoutputaddcustfiledir-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutputaddcustfiledir-check>
<label for=m-docsmove2kubetutorialscustomizeoutputaddcustfiledir-check><a href=/docs/move2kube/tutorials/customizeoutput/addcustfiledir/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomizeoutputaddcustfiledir><span>Add custom files and directories in custom locations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomizeoutputparamcustomfieldshelm-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutputparamcustomfieldshelm-check>
<label for=m-docsmove2kubetutorialscustomizeoutputparamcustomfieldshelm-check><a href=/docs/move2kube/tutorials/customizeoutput/paramcustomfieldshelm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomizeoutputparamcustomfieldshelm><span>Parameterizing custom fields in Helm Chart, Kustomize, OC templates</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomizeoutputcustomannotationsyaml-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutputcustomannotationsyaml-check>
<label for=m-docsmove2kubetutorialscustomizeoutputcustomannotationsyaml-check><a href=/docs/move2kube/tutorials/customizeoutput/customannotationsyaml/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomizeoutputcustomannotationsyaml><span>Add custom annotations to Kubernetes YAMLs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomizeoutputcustomgendockerfile-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutputcustomgendockerfile-check>
<label for=m-docsmove2kubetutorialscustomizeoutputcustomgendockerfile-check><a href=/docs/move2kube/tutorials/customizeoutput/customgendockerfile/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomizeoutputcustomgendockerfile><span>Customize generated Dockerfile and built-in transformer behavior</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsmove2kubetutorialscustomkubeyaml-li><input type=checkbox id=m-docsmove2kubetutorialscustomkubeyaml-check checked>
<label for=m-docsmove2kubetutorialscustomkubeyaml-check><a href=/docs/move2kube/tutorials/customkubeyaml/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomkubeyaml><span class=td-sidebar-nav-active-item>Customize Kubernetes YAMLs to target specific clusters</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscreatehelmchartskustomize-li><input type=checkbox id=m-docsmove2kubetutorialscreatehelmchartskustomize-check>
<label for=m-docsmove2kubetutorialscreatehelmchartskustomize-check><a href=/docs/move2kube/tutorials/createhelmchartskustomize/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscreatehelmchartskustomize><span>Create Helm-charts, Kustomize overlays from Kubernetes Yamls</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscreatewincontainersnet-li><input type=checkbox id=m-docsmove2kubetutorialscreatewincontainersnet-check>
<label for=m-docsmove2kubetutorialscreatewincontainersnet-check><a href=/docs/move2kube/tutorials/createwincontainersnet/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscreatewincontainersnet><span>Create and deploy Windows .NET containers</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsmigratedeploynetcore-li><input type=checkbox id=m-docsmove2kubetutorialsmigratedeploynetcore-check>
<label for=m-docsmove2kubetutorialsmigratedeploynetcore-check><a href=/docs/move2kube/tutorials/migratedeploynetcore/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsmigratedeploynetcore><span>Migrate and deploy .NET Core applications to Kubernetes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsmigratedockercomposekube-li><input type=checkbox id=m-docsmove2kubetutorialsmigratedockercomposekube-check>
<label for=m-docsmove2kubetutorialsmigratedockercomposekube-check><a href=/docs/move2kube/tutorials/migratedockercomposekube/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsmigratedockercomposekube><span>Migrate from Docker Compose to Kubernetes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsmigratedeploycfapps-li><input type=checkbox id=m-docsmove2kubetutorialsmigratedeploycfapps-check>
<label for=m-docsmove2kubetutorialsmigratedeploycfapps-check><a href=/docs/move2kube/tutorials/migratedeploycfapps/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsmigratedeploycfapps><span>Migrate and deploy Cloud Foundry applications to Kubernetes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsrunnoninteractively-li><input type=checkbox id=m-docsmove2kubetutorialsrunnoninteractively-check>
<label for=m-docsmove2kubetutorialsrunnoninteractively-check><a href=/docs/move2kube/tutorials/runnoninteractively/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsrunnoninteractively><span>Run transforms non-interactively</span></a></label></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#exploring-the-output>Exploring the output</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=http://konveyor.io/tags/appmodernization/ data-taxonomy-term=appmodernization><span class=taxonomy-label>AppModernization</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/cncf/ data-taxonomy-term=cncf><span class=taxonomy-label>CNCF</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/crane/ data-taxonomy-term=crane><span class=taxonomy-label>Crane</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/forklift/ data-taxonomy-term=forklift><span class=taxonomy-label>Forklift</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/genai/ data-taxonomy-term=genai><span class=taxonomy-label>GenAI</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/hackfest/ data-taxonomy-term=hackfest><span class=taxonomy-label>HackFest</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/kai/ data-taxonomy-term=kai><span class=taxonomy-label>Kai</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/konveyor/ data-taxonomy-term=konveyor><span class=taxonomy-label>Konveyor</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/kubecon/ data-taxonomy-term=kubecon><span class=taxonomy-label>KubeCon</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/metrics/ data-taxonomy-term=metrics><span class=taxonomy-label>Metrics</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/move2kube/ data-taxonomy-term=move2kube><span class=taxonomy-label>Move2Kube</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/mtc/ data-taxonomy-term=mtc><span class=taxonomy-label>MTC</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/openshift/ data-taxonomy-term=openshift><span class=taxonomy-label>OpenShift</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/pelorus/ data-taxonomy-term=pelorus><span class=taxonomy-label>Pelorus</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/tackle/ data-taxonomy-term=tackle><span class=taxonomy-label>Tackle</span><span class=taxonomy-count>3</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>Konveyor Docs</a></li><li class=breadcrumb-item><a href=/docs/move2kube/>Move2Kube</a></li><li class=breadcrumb-item><a href=/docs/move2kube/tutorials/>Tutorials</a></li><li class="breadcrumb-item active" aria-current=page>Customize Kubernetes YAMLs to target specific clusters</li></ol></nav><div class=td-content><h1>Customize Kubernetes YAMLs to target specific clusters</h1><header class=article-meta></header><p>Move2Kube already supports targeting across multiple clusters including: Kubernetes, Openshift, IBM-IKS, IBM-Openshift, Azure-EKS, Azure-AKS and GCP-GKS. There might be situations that require generating Kubernetes YAMLs to target a particular cluster. This tutorial shows how to use Konveyor Move2Kube to change the versions of existing Kubernetes resources to target a particular cluster. Move2Kube can also be customized to generate Kubernetes YAMLS deployable on a particular cluster.</p><p><strong>Prerequisites</strong></p><ol><li><p>Install the Move2Kube CLI tool.</p></li><li><p>Install <a href=https://kubernetes.io/docs/tasks/tools/install-kubectl>Kubectl</a>.</p></li><li><p>Use the <a href=https://github.com/konveyor/move2kube-demos/tree/main/samples/kubernetes-to-kubernetes>kubernetes-to-kubernetes</a> sample. This directory has some Kubernetes YAMLs that deploy a web app with multiple services. There are three services: a frontend website in PHP, a backend API in NodeJS, and a cache service using Redis.</p></li></ol><p><strong>Procedure</strong></p><ol><li>Collect data about the Kubernetes cluster using <code>move2kube collect</code>. Limit the collection to only cluster information using the <code>-a k8s</code> annotation flag.</li></ol><blockquote><p><strong>Note:</strong> Before running the below command, log in to the target cluster. To verify, run <code>kubectl get pods</code>.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ move2kube collect -a k8s
</span></span><span style=display:flex><span>INFO[0000] Begin collection
</span></span><span style=display:flex><span>INFO[0000] [*collector.ClusterCollector] Begin collection
</span></span><span style=display:flex><span>INFO[0006] [*collector.ClusterCollector] Done   
</span></span><span style=display:flex><span>INFO[0006] [*collector.ImagesCollector] Begin collection
</span></span><span style=display:flex><span>INFO[0006] [*collector.ImagesCollector] Done
</span></span><span style=display:flex><span>INFO[0006] Collection done  
</span></span><span style=display:flex><span>INFO[0006] Collect Output in [/Users/user/m2k_collect]. Copy this directory into the source directory to be used for planning.
</span></span></code></pre></div><p>The data collected will be stored in a new directory called <code>./m2k_collect</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ls m2k_collect
</span></span><span style=display:flex><span>cf
</span></span></code></pre></div><p>The <code>./m2k_collect/clusters</code> directory contains the YAML file which has the cluster application information including the buildpacks that are supported, the memory, the number of instances and the ports that are supported. If there are environment variables, it collects that information too. The name of the cluster can be found in the <code>metadata.name</code> file, and can be renamed in the YAML file.</p><ul><li><p>For this tutorial, the <code>move2kube collect</code> output YAML file which contains the cluster related information is stored <a href=https://github.com/konveyor/move2kube-transformers/tree/main/custom-cluster-selector/clusters/my-kubernetes-cluster.yaml>here</a>. The cluster <code>metadata.name</code> was renamed as <code>my-kubernetes-cluster</code> in the YAML file.</p></li><li><p>Use a <a href=https://github.com/konveyor/move2kube-transformers/tree/main/custom-cluster-selector>custom configured version</a> of the <a href=https://github.com/konveyor/move2kube/tree/main/assets/built-in/transformers/kubernetes/clusterselector>clusterselector transformer</a>.</p></li></ul><ol start=2><li>Download the <a href=https://github.com/konveyor/move2kube-transformers/tree/main/custom-cluster-selector>custom-cluster-selector</a> transformer into the <code>customizations</code> sub-directory.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ curl https://move2kube.konveyor.io/scripts/download.sh | bash -s -- -d custom-cluster-selector -r move2kube-transformers -o customizations
</span></span></code></pre></div><p>The <code>customizations/custom-cluster-selector/transformer.yaml</code> is the transformer configuration. There are two changes in the <a href=https://github.com/konveyor/move2kube-transformers/tree/main/custom-cluster-selector/transformer.yaml>custom-cluster-selector/transformer.yaml</a> compared to the built-in <a href=https://github.com/konveyor/move2kube/tree/main/assets/built-in/transformers/kubernetes/clusterselector/transformer.yaml>clusterselector/transformer.yaml</a> :</p><ul><li>The name of the custom transformer is <code>CustomClusterSelector</code> (see <code>name</code> field in the <code>metadata</code> section).</li><li>Specify an <code>override</code> section which is asking Move2Kube to disable the transformer named <code>ClusterSelector</code> if <code>CustomClusterSelector</code> transformer is present.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>  $ cat customizations/custom-cluster-selector/transformer.yaml
</span></span><span style=display:flex><span>  apiVersion: move2kube.konveyor.io/v1alpha1
</span></span><span style=display:flex><span>  kind: Transformer
</span></span><span style=display:flex><span>  metadata:
</span></span><span style=display:flex><span>    name: CustomClusterSelector
</span></span><span style=display:flex><span>    labels:
</span></span><span style=display:flex><span>      move2kube.konveyor.io/built-in: true
</span></span><span style=display:flex><span>      move2kube.konveyor.io/kubernetesclusterselector: true
</span></span><span style=display:flex><span>  spec:
</span></span><span style=display:flex><span>    class: &#34;ClusterSelectorTransformer&#34;
</span></span><span style=display:flex><span>    directoryDetect:
</span></span><span style=display:flex><span>      levels: 0
</span></span><span style=display:flex><span>    consumes:
</span></span><span style=display:flex><span>      IR:
</span></span><span style=display:flex><span>        merge: true
</span></span><span style=display:flex><span>        mode: OnDemandPassThrough
</span></span><span style=display:flex><span>      KubernetesOrgYamlsInSource:
</span></span><span style=display:flex><span>        merge: false
</span></span><span style=display:flex><span>        mode: OnDemandPassThrough
</span></span><span style=display:flex><span>    produces:
</span></span><span style=display:flex><span>      IR:
</span></span><span style=display:flex><span>        disabled: false
</span></span><span style=display:flex><span>      KubernetesOrgYamlsInSource:
</span></span><span style=display:flex><span>        disabled: false
</span></span><span style=display:flex><span>    override:
</span></span><span style=display:flex><span>      matchLabels:
</span></span><span style=display:flex><span>        move2kube.konveyor.io/name: ClusterSelector
</span></span></code></pre></div><p>To check what information <code>move2kube collect -a k8s</code> collected, view the content inside the <a href=https://github.com/konveyor/move2kube-transformers/tree/main/custom-cluster-selector/clusters/my-kubernetes-cluster.yaml>my-kubernetes-cluster.yaml</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ cat customizations/custom-cluster-selector/clusters/my-kubernetes-cluster.yaml
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>move2kube.konveyor.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ClusterMetadata</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-kubernetes-cluster</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>storageClasses</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>default</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>ibmc-file-bronze</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>ibmc-file-bronze-gid</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>ibmc-file-custom</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>ibmc-file-gold</span>
</span></span><span style=display:flex><span>- <span style=color:#ae81ff>ibmc-file-gold-gid</span>
</span></span><span style=display:flex><span>     - <span style=color:#ae81ff>ibmc-file-retain-bronze</span>
</span></span><span style=display:flex><span>     - <span style=color:#ae81ff>ibmc-file-retain-custom</span>
</span></span><span style=display:flex><span>     - <span style=color:#ae81ff>ibmc-file-retain-gold</span>
</span></span><span style=display:flex><span>     - <span style=color:#ae81ff>ibmc-file-retain-silver</span>
</span></span><span style=display:flex><span>     - <span style=color:#ae81ff>ibmc-file-silver</span>
</span></span><span style=display:flex><span>     - <span style=color:#ae81ff>ibmc-file-silver-gid</span>
</span></span><span style=display:flex><span>   <span style=color:#f92672>apiKindVersionMap</span>:
</span></span><span style=display:flex><span>     <span style=color:#f92672>APIService</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>apiregistration.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>BGPConfiguration</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>BGPPeer</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Binding</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>BlockAffinity</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CSIDriver</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>storage.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CSINode</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>storage.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CSIStorageCapacity</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>storage.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CatalogSource</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>operators.coreos.com/v1alpha1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CertificateSigningRequest</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>certificates.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ClusterInformation</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ClusterRole</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>rbac.authorization.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ClusterRoleBinding</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>rbac.authorization.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ClusterServiceVersion</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>operators.coreos.com/v1alpha1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ComponentStatus</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ConfigMap</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ControllerRevision</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CronJob</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>batch/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>batch/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CustomResourceDefinition</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>apiextensions.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>DaemonSet</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Deployment</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>EndpointSlice</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>discovery.k8s.io/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>discovery.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Endpoints</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Event</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>events.k8s.io/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>events.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Eviction</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>FelixConfiguration</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>FlowSchema</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>flowcontrol.apiserver.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>GlobalNetworkPolicy</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>GlobalNetworkSet</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>GuestBook</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>webapp.metamagical.dev/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>HorizontalPodAutoscaler</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>autoscaling/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>autoscaling/v2beta1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>autoscaling/v2beta2</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>HostEndpoint</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>IPAMBlock</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>IPAMConfig</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>IPAMHandle</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>IPPool</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Ingress</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>networking.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>IngressClass</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>networking.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>InstallPlan</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>operators.coreos.com/v1alpha1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Job</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>batch/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>KubeControllersConfiguration</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Lease</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>coordination.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>LimitRange</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>LocalSubjectAccessReview</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>authorization.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>MutatingWebhookConfiguration</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>admissionregistration.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Namespace</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>NetworkPolicy</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>networking.k8s.io/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>NetworkSet</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>crd.projectcalico.org/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Node</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>NodeMetrics</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>metrics.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>NodeProxyOptions</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Operator</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>operators.coreos.com/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>OperatorGroup</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>operators.coreos.com/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>operators.coreos.com/v1alpha2</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PersistentVolume</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PersistentVolumeClaim</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Pod</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PodAttachOptions</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PodDisruptionBudget</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>policy/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>policy/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PodExecOptions</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PodMetrics</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>metrics.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PodPortForwardOptions</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PodProxyOptions</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PodSecurityPolicy</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>policy/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PodTemplate</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PriorityClass</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>scheduling.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PriorityLevelConfiguration</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>flowcontrol.apiserver.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>RBACSync</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>ibm.com/v1alpha1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Redis</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>webapp.metamagical.dev/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ReplicaSet</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ReplicationController</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ResourceQuota</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Role</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>rbac.authorization.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>RoleBinding</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>rbac.authorization.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>RuntimeClass</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>node.k8s.io/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>node.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Scale</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Secret</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>SelfSubjectAccessReview</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>authorization.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>SelfSubjectRulesReview</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>authorization.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Service</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ServiceAccount</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ServiceProxyOptions</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>StatefulSet</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>StorageClass</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>storage.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>SubjectAccessReview</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>authorization.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Subscription</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>operators.coreos.com/v1alpha1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>TokenRequest</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>TokenReview</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>authentication.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ValidatingWebhookConfiguration</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>admissionregistration.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>VolumeAttachment</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>storage.k8s.io/v1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>VolumeSnapshot</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>snapshot.storage.k8s.io/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>snapshot.storage.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>VolumeSnapshotClass</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>snapshot.storage.k8s.io/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>snapshot.storage.k8s.io/v1beta1</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>VolumeSnapshotContent</span>:
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>snapshot.storage.k8s.io/v1</span>
</span></span><span style=display:flex><span>       - <span style=color:#ae81ff>snapshot.storage.k8s.io/v1beta1</span>
</span></span></code></pre></div><p>The <a href=https://github.com/konveyor/move2kube-transformers/tree/main/custom-cluster-selector/clusters/my-kubernetes-cluster.yaml>my-kubernetes-cluster.yaml</a> has information about the target cluster under the <code>spec</code> field, including the <code>storageClasses</code>, <code>Deployment</code>, <code>Service</code>, <code>Ingress</code> and <code>NetworkPolicy</code> versions supported by the target cluster. Move2Kube will use this information and generate the Kubernetes YAMLs which are tailored for the given target cluster.</p><ol><li>Download the <a href=https://github.com/konveyor/move2kube-demos/tree/main/samples/kubernetes-to-kubernetes>kubernetes-to-kubernetes</a> sample.</li></ol><pre tabindex=0><code>$ curl https://move2kube.konveyor.io/scripts/download.sh | bash -s -- -d samples/kubernetes-to-kubernetes -r move2kube-demos
$ ls kubernetes-to-kubernetes/
api-deployment.yaml  api-service.yaml  redis-deployment.yaml  redis-service.yaml  web-deployment.yaml  web-ingress.yaml  web-service.yaml
</code></pre><ol start=4><li>Generate a plan file by providing the <code>custom-cluster-selector</code> transformer inside the downloaded <code>customizations</code> folder to Move2Kube using the <code>-c flag</code>.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ move2kube plan -s kubernetes-to-kubernetes -c customizations
</span></span><span style=display:flex><span>INFO[0000] Configuration loading done
</span></span><span style=display:flex><span>INFO[0000] Planning Transformation - Base Directory
</span></span><span style=display:flex><span>INFO[0000] [CloudFoundry] Planning transformation
</span></span><span style=display:flex><span>INFO[0000] [CloudFoundry] Done
</span></span><span style=display:flex><span>INFO[0000] [DockerfileDetector] Planning transformation
</span></span><span style=display:flex><span>INFO[0000] [DockerfileDetector] Done
</span></span><span style=display:flex><span>INFO[0000] [ComposeAnalyser] Planning transformation
</span></span><span style=display:flex><span>INFO[0000] [ComposeAnalyser] Done
</span></span><span style=display:flex><span>INFO[0000] [Base Directory] Identified 0 named services and 0 to-be-named services
</span></span><span style=display:flex><span>INFO[0000] Transformation planning - Base Directory done
</span></span><span style=display:flex><span>INFO[0000] Planning Transformation - Directory Walk
</span></span><span style=display:flex><span>INFO[0000] Identified 1 named services and 0 to-be-named services in .
</span></span><span style=display:flex><span>INFO[0000] Identified 1 named services and 0 to-be-named services in .
</span></span><span style=display:flex><span>INFO[0000] Transformation planning - Directory Walk done
</span></span><span style=display:flex><span>INFO[0000] [Directory Walk] Identified 1 named services and 1 to-be-named services
</span></span><span style=display:flex><span>INFO[0000] [Named Services] Identified 1 named services
</span></span><span style=display:flex><span>INFO[0000] No of services identified : 1
</span></span><span style=display:flex><span>INFO[0000] Plan can be found at [/Users/user/m2k.plan].
</span></span></code></pre></div><ol start=5><li>View the generated plan file in YAML format. Notice Move2Kube has detected the <code>custom-cluster-selector</code> as <code>customizationsDir</code> which will be used during the <em>Transform</em> phase.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ cat m2k.plan
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>move2kube.konveyor.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Plan</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>myproject</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>sourceDir</span>: <span style=color:#ae81ff>kubernetes-to-kubernetes</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>customizationsDir</span>: <span style=color:#ae81ff>custom-cluster-selector</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>move2kube.konveyor.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Plan</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>   <span style=color:#f92672>name</span>: <span style=color:#ae81ff>myproject</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>   <span style=color:#f92672>sourceDir</span>: <span style=color:#ae81ff>kubernetes-to-kubernetes</span>
</span></span><span style=display:flex><span>   <span style=color:#f92672>customizationsDir</span>: <span style=color:#ae81ff>custom-cluster-selector</span>
</span></span><span style=display:flex><span>   <span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>     <span style=color:#f92672>move2kube-transformers</span>:
</span></span><span style=display:flex><span>       - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>Parameterizer</span>
</span></span><span style=display:flex><span>         <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>           <span style=color:#f92672>KubernetesYamls</span>:
</span></span><span style=display:flex><span>             - <span style=color:#ae81ff>.</span>
</span></span><span style=display:flex><span>           <span style=color:#f92672>ServiceDirPath</span>:
</span></span><span style=display:flex><span>             - <span style=color:#ae81ff>.</span>
</span></span><span style=display:flex><span>       - <span style=color:#f92672>transformerName</span>: <span style=color:#ae81ff>KubernetesVersionChanger</span>
</span></span><span style=display:flex><span>         <span style=color:#f92672>type</span>: <span style=color:#ae81ff>KubernetesOrgYamlsInSource</span>
</span></span><span style=display:flex><span>         <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>           <span style=color:#f92672>KubernetesYamls</span>:
</span></span><span style=display:flex><span>             - <span style=color:#ae81ff>.</span>
</span></span><span style=display:flex><span>           <span style=color:#f92672>ServiceDirPath</span>:
</span></span><span style=display:flex><span>             - <span style=color:#ae81ff>.</span>
</span></span><span style=display:flex><span>   <span style=color:#f92672>transformers</span>:
</span></span><span style=display:flex><span>     <span style=color:#f92672>Buildconfig</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/buildconfig/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CloudFoundry</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/cloudfoundry/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ComposeAnalyser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/compose/composeanalyser/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ComposeGenerator</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/compose/composegenerator/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ContainerImagesPushScriptGenerator</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/containerimagespushscript/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>CustomClusterSelector</span>: <span style=color:#ae81ff>m2kassets/custom/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>DockerfileDetector</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfile/dockerfiledetector/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>DockerfileImageBuildScript</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfile/dockerimagebuildscript/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>DockerfileParser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfile/dockerfileparser/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>DotNetCore-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/dotnetcore/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>EarAnalyser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/earanalyser/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>EarRouter</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/earrouter/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Golang-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/golang/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Gradle</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/gradle/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Jar</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/jar/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Jboss</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/jboss/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Knative</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/knative/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Kubernetes</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/kubernetes/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>KubernetesVersionChanger</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/kubernetesversionchanger/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Liberty</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/liberty/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Maven</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/maven/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Nodejs-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/nodejs/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>PHP-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/php/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Parameterizer</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/parameterizer/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Python-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/python/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ReadMeGenerator</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/readmegenerator/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Ruby-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/ruby/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Rust-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/rust/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Tekton</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/kubernetes/tekton/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>Tomcat</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/tomcat/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>WarAnalyser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/waranalyser/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>WarRouter</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/warrouter/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>WinConsoleApp-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/windows/winconsole/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>WinSLWebApp-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/windows/winsilverlightweb/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>WinWebApp-Dockerfile</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/windows/winweb/transformer.yaml</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>ZuulAnalyser</span>: <span style=color:#ae81ff>m2kassets/built-in/transformers/dockerfilegenerator/java/zuul/transformer.yaml</span>
</span></span></code></pre></div><ol><li>Run the transformation using <code>move2kube transform</code>.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ move2kube transform
</span></span><span style=display:flex><span>INFO[0000] Detected a plan file at path /home/user/m2k.plan. Will transform using this plan.
</span></span><span style=display:flex><span>? Select all transformer types that you are interested in:
</span></span><span style=display:flex><span>ID: move2kube.transformers.types
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>[Services that don&#39;t support any of the transformer types you are interested in will be ignored.]
</span></span><span style=display:flex><span>  [Use arrows to move, space to select, &lt;right&gt; to all, &lt;left&gt; to none, type to filter]
</span></span><span style=display:flex><span>&gt; <span style=color:#f92672>[</span>✓<span style=color:#f92672>]</span>  Maven
</span></span><span style=display:flex><span>  [✓]  Rust-Dockerfile
</span></span><span style=display:flex><span>  [✓]  Tomcat
</span></span><span style=display:flex><span>  [✓]  ZuulAnalyser
</span></span><span style=display:flex><span>  [✓]  CustomClusterSelector
</span></span><span style=display:flex><span>  [✓]  Jboss
</span></span><span style=display:flex><span>  [✓]  Parameterizer
</span></span><span style=display:flex><span>  [✓]  ReadMeGenerator
</span></span><span style=display:flex><span>  [✓]  WarRouter
</span></span><span style=display:flex><span>  [✓]  DockerfileDetector
</span></span><span style=display:flex><span>  [✓]  Gradle
</span></span><span style=display:flex><span>  [✓]  Python-Dockerfile
</span></span><span style=display:flex><span>  [✓]  WinConsoleApp-Dockerfile
</span></span><span style=display:flex><span>  [✓]  Buildconfig
</span></span><span style=display:flex><span>  [✓]  EarAnalyser
</span></span><span style=display:flex><span>  [✓]  Knative
</span></span><span style=display:flex><span>  [✓]  Nodejs-Dockerfile
</span></span><span style=display:flex><span>  [✓]  WinSLWebApp-Dockerfile
</span></span><span style=display:flex><span>  [✓]  ContainerImagesPushScriptGenerator
</span></span><span style=display:flex><span>  [✓]  DockerfileImageBuildScript
</span></span><span style=display:flex><span>  [✓]  Tekton
</span></span><span style=display:flex><span>  [✓]  DotNetCore-Dockerfile
</span></span><span style=display:flex><span>  [✓]  Liberty
</span></span><span style=display:flex><span>  [✓]  DockerfileParser
</span></span><span style=display:flex><span>  [✓]  Golang-Dockerfile
</span></span><span style=display:flex><span>  [✓]  WinWebApp-Dockerfile
</span></span><span style=display:flex><span>  [✓]  CloudFoundry
</span></span><span style=display:flex><span>  [✓]  ComposeGenerator
</span></span><span style=display:flex><span>  [✓]  Kubernetes
</span></span><span style=display:flex><span>  [✓]  Ruby-Dockerfile
</span></span><span style=display:flex><span>  [✓]  WarAnalyser
</span></span><span style=display:flex><span>  [✓]  ComposeAnalyser
</span></span><span style=display:flex><span>  [✓]  Jar
</span></span><span style=display:flex><span>  [✓]  PHP-Dockerfile
</span></span><span style=display:flex><span>  [✓]  EarRouter
</span></span><span style=display:flex><span>  [✓]  KubernetesVersionChanger
</span></span></code></pre></div><ol start=7><li>Accept the default by pressing the <strong>Enter</strong> key.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>? Select all services that are needed:
</span></span><span style=display:flex><span>ID: move2kube.services.[].enable
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>[The services unselected here will be ignored.]
</span></span><span style=display:flex><span>  [Use arrows to move, space to select, &lt;right&gt; to all, &lt;left&gt; to none, type to filter]
</span></span><span style=display:flex><span>&gt; <span style=color:#f92672>[</span>✓<span style=color:#f92672>]</span>  myproject
</span></span></code></pre></div><ol start=8><li>Accept the detected service.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>INFO[0017] Starting Plan Transformation
</span></span><span style=display:flex><span>INFO[0017] Iteration 1  
</span></span><span style=display:flex><span>INFO[0017] Iteration 2 - 1 artifacts to process
</span></span><span style=display:flex><span>INFO[0017] Transformer CustomClusterSelector processing 1 artifacts
</span></span><span style=display:flex><span>? Choose the cluster type:
</span></span><span style=display:flex><span>ID: move2kube.target.clustertype
</span></span><span style=display:flex><span>Hints:
</span></span><span style=display:flex><span>[Choose the cluster type you would like to target]
</span></span><span style=display:flex><span>  [Use arrows to move, type to filter]
</span></span><span style=display:flex><span>  GCP-GKE
</span></span><span style=display:flex><span>  IBM-IKS
</span></span><span style=display:flex><span>  IBM-Openshift
</span></span><span style=display:flex><span>  Kubernetes
</span></span><span style=display:flex><span>&gt; my-kubernetes-cluster
</span></span><span style=display:flex><span>  Openshift
</span></span><span style=display:flex><span>  AWS-EKS
</span></span><span style=display:flex><span>  Openshift
</span></span></code></pre></div><ol start=9><li>Select <code>my-kubernetes-cluster</code> as the target cluster type to deploy to.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>INFO[0393] Transformer CustomClusterSelector Done   
</span></span><span style=display:flex><span>INFO[0393] Transformer KubernetesVersionChanger processing 1 artifacts
</span></span><span style=display:flex><span>INFO[0393] Transformer KubernetesVersionChanger Done
</span></span><span style=display:flex><span>INFO[0393] Created 1 pathMappings and 1 artifacts. Total Path Mappings : 1. Total Artifacts : 1.
</span></span><span style=display:flex><span>INFO[0393] Iteration 3 - 1 artifacts to process
</span></span><span style=display:flex><span>INFO[0393] Transformer Parameterizer processing 1 artifacts
</span></span><span style=display:flex><span>INFO[0393] Transformer Parameterizer Done   
</span></span><span style=display:flex><span>INFO[0393] Plan Transformation done
</span></span><span style=display:flex><span>INFO[0393] Transformed target artifacts can be found at [/Users/user/myproject].
</span></span></code></pre></div><ol start=10><li>The transformation has completed and generated a directory called <code>myproject</code>.</li></ol><blockquote><p><strong>Note:</strong> The name of the output directory is the same as the project name (by default <code>myproject</code>). The project name can be changed using the <code>-n</code> flag.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ls
</span></span><span style=display:flex><span>customizations   kubernetes-to-kubernetes m2k.plan m2kconfig.yaml   m2kqacache.yaml  myproject
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>$ ls myproject/source
</span></span><span style=display:flex><span>kubernetes-to-kubernetes-versionchanged   kubernetes-to-kubernetes-versionchanged-parameterized
</span></span></code></pre></div><p>The applications can now be deployed to Kubernetes using these generated artifacts.</p><h2 id=exploring-the-output>Exploring the output</h2><p>The full structure of the output directory can be seen by executing the <code>tree</code> command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>  $ tree myproject/
</span></span><span style=display:flex><span>   myproject
</span></span><span style=display:flex><span>  └── source
</span></span><span style=display:flex><span>      ├── kubernetes-to-kubernetes-versionchanged
</span></span><span style=display:flex><span>      │   ├── api-deployment.yaml
</span></span><span style=display:flex><span>      │   ├── api-service.yaml
</span></span><span style=display:flex><span>      │   ├── redis-deployment.yaml
</span></span><span style=display:flex><span>      │   ├── redis-service.yaml
</span></span><span style=display:flex><span>      │   ├── web-deployment.yaml
</span></span><span style=display:flex><span>      │   ├── web-ingress.yaml
</span></span><span style=display:flex><span>      │   └── web-service.yaml
</span></span><span style=display:flex><span>      └── kubernetes-to-kubernetes-versionchanged-parameterized
</span></span><span style=display:flex><span>          ├── helm-chart
</span></span><span style=display:flex><span>          │   └── move2kube-transformers
</span></span><span style=display:flex><span>          │       ├── Chart.yaml
</span></span><span style=display:flex><span>          │       ├── templates
</span></span><span style=display:flex><span>          │       │   ├── api-deployment.yaml
</span></span><span style=display:flex><span>          │       │   ├── api-service.yaml
</span></span><span style=display:flex><span>          │       │   ├── redis-deployment.yaml
</span></span><span style=display:flex><span>          │       │   ├── redis-service.yaml
</span></span><span style=display:flex><span>          │       │   ├── web-deployment.yaml
</span></span><span style=display:flex><span>          │       │   ├── web-ingress.yaml
</span></span><span style=display:flex><span>          │       │   └── web-service.yaml
</span></span><span style=display:flex><span>          │       ├── values-dev.yaml
</span></span><span style=display:flex><span>          │       ├── values-prod.yaml
</span></span><span style=display:flex><span>          │       └── values-staging.yaml
</span></span><span style=display:flex><span>          ├── kustomize
</span></span><span style=display:flex><span>          │   ├── base
</span></span><span style=display:flex><span>          │   │   ├── api-deployment.yaml
</span></span><span style=display:flex><span>          │   │   ├── api-service.yaml
</span></span><span style=display:flex><span>          │   │   ├── kustomization.yaml
</span></span><span style=display:flex><span>          │   │   ├── redis-deployment.yaml
</span></span><span style=display:flex><span>          │   │   ├── redis-service.yaml
</span></span><span style=display:flex><span>          │   │   ├── web-deployment.yaml
</span></span><span style=display:flex><span>          │   │   ├── web-ingress.yaml
</span></span><span style=display:flex><span>          │   │   └── web-service.yaml
</span></span><span style=display:flex><span>          │   └── overlays
</span></span><span style=display:flex><span>          │       ├── dev
</span></span><span style=display:flex><span>          │       │   ├── apps-v1-deployment-api.yaml
</span></span><span style=display:flex><span>          │       │   ├── apps-v1-deployment-redis.yaml
</span></span><span style=display:flex><span>          │       │   ├── apps-v1-deployment-web.yaml
</span></span><span style=display:flex><span>          │       │   └── kustomization.yaml
</span></span><span style=display:flex><span>          │       ├── prod
</span></span><span style=display:flex><span>          │       │   ├── apps-v1-deployment-api.yaml
</span></span><span style=display:flex><span>          │       │   ├── apps-v1-deployment-redis.yaml
</span></span><span style=display:flex><span>          │       │   ├── apps-v1-deployment-web.yaml
</span></span><span style=display:flex><span>          │       │   └── kustomization.yaml
</span></span><span style=display:flex><span>          │       └── staging
</span></span><span style=display:flex><span>          │           ├── apps-v1-deployment-api.yaml
</span></span><span style=display:flex><span>          │           ├── apps-v1-deployment-redis.yaml
</span></span><span style=display:flex><span>          │           ├── apps-v1-deployment-web.yaml
</span></span><span style=display:flex><span>          │           └── kustomization.yaml
</span></span><span style=display:flex><span>          └── openshift-template
</span></span><span style=display:flex><span>              ├── parameters-dev.yaml
</span></span><span style=display:flex><span>              ├── parameters-prod.yaml
</span></span><span style=display:flex><span>              ├── parameters-staging.yaml
</span></span><span style=display:flex><span>              └── template.yaml
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>  13 directories, 42 files
</span></span></code></pre></div><p>The <code>myproject/source/kubernetes-to-kubernetes-versionchanged</code> directory has the new Kubernetes YAMLs (deployment/service/ingress/etc.) which are tailored to meet the target cluster requirements.</p><p>Some other things to observe:</p><ul><li>The Helm chart in the <code>source/kubernetes-to-kubernetes-versionchanged-parameterized/helm-chart</code> directory.</li><li>The Kustomize YAMLs in the <code>source/kubernetes-to-kubernetes-versionchanged-parameterized/kustomize</code> directory.</li><li>The Openshift Template in the <code>source/kubernetes-to-kubernetes-versionchanged-parameterized/openshift-template</code> directory.</li></ul><p>For more details on how to customize the parameterization look at the documentation.</p><h2 id=conclusion>Conclusion</h2><p>Follow these steps to complete the tutorial.</p><ol><li>Run <code>move2kube collect -a k8s</code> after logging in to the cluster to collect the cluster-related information inside the <code>m2k_collect</code> folder.</li><li>Copy-paste the generated YAML file inside <code>m2k_collect/cluster/</code> to <a href=https://github.com/konveyor/move2kube-transformers/tree/main/custom-cluster-selector/clusters/>custom-cluster-selector/clusters/</a>.</li><li>While running <code>move2kube plan -s src -c custom-cluster-selector</code> (or transform <code>move2kube transform -s src -c custom-cluster-selector</code>), provide the customization folder to Move2Kube using the <code>-c flag</code>.</li><li>Select the target cluster in the QA during <em>Transform</em> phase. Move2Kube will generate the Kubernetes YAMLs for the target cluster.</li></ol><p>Given Kubernetes YAMLs, this tutorial showed how Move2Kube can create/transform the Kubernetes YAMLs to target a specific cluster.</p><p><a href=https://github.com/konveyor/konveyor.github.io/blob/main/content/Move2Kube/Tutorials/customKubeYAML.md>Source</a></p></div></main></div></div><footer class=footer-container><div class=footer-inner-top><p>©2025 the Konveyor authors</p><ul class=footer-links><li><a href=/privacy>Privacy Statement</a></li><li><a href=https://www.linuxfoundation.org/legal/trademark-usage target=_blank>Trademark</a></li></ul><ul class=footer-links><li><a href=https://twitter.com/Konveyor_io target=_blank><i class="fa-brands fa-x-twitter"></i></a></li><li><a href=https://www.youtube.com/channel/UCQ3pW3gSBeCy0tj1J0ub2bw target=_blank><i class="fa-brands fa-youtube"></i></a></li><li><a href="https://www.linkedin.com/company/konveyor-community/?viewAsMember=true" target=_blank><i class="fa-brands fa-linkedin"></i></a></li><li><a href=https://www.konveyor.io/slack/ target=_blank><i class="fa-brands fa-slack"></i></a></li><li><a href=https://github.com/konveyor target=_blank><i class="fa-brands fa-github"></i></a></li></ul></div><div class=footer-inner-bottom><div><div class=konveyor-logo-container><img src=/images/Konveyor-logo-color-wh.svg alt="konveyor logo"></div><p>The Konveyor community helps modernize applications by providing open source tools.</p></div><div><div class=cncf-logo-container><img src=/images/cncf-logo-white.svg alt="cncf logo"></div><p>We are a Cloud Native Computing Foundation sandbox project.</p></div></div><p class=text-center>The Linux Foundation® (TLF) has registered trademarks and uses trademarks. For a list of TLF trademarks, see <a href=https://www.linuxfoundation.org/legal/trademark-usage target=_blank>Trademark Usage.</a></p></footer></div><script src=/js/main.min.8bdc707530d61dee3a6fd659f8a422c05d2e2319377a8710175451ca21fa83b0.js integrity="sha256-i9xwdTDWHe46b9ZZ+KQiwF0uIxk3eocQF1RRyiH6g7A=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKPDMS3" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript></body></html>