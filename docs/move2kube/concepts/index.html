<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Concepts | Konveyor</title>
<meta name=description content='Move2Kube has four concepts that are useful to understand when customizing output.
Important: It may be helpful to go through the tutorials first, then reading this section to learn more about each concept in more detail.
Artifacts Source code
Artifacts represent the application objects that can be passed between transformers.
type Artifact struct { Name string `yaml:"name,omitempty" json:"name,omitempty"` Type ArtifactType `yaml:"type,omitempty" json:"type,omitempty"` ProcessWith metav1.LabelSelector `yaml:"processWith,omitempty" json:"processWith,omitempty"` // Selector for choosing transformers that should process this artifact, empty is everything Paths map[PathType][]string `yaml:"paths,omitempty" json:"paths,omitempty" m2kpath:"normal"` Configs map[ConfigType]interface{} `yaml:"configs,omitempty" json:"config,omitempty"` // Could be IR or template config or any custom configuration } Artifact fields Each artifact is an object with fields that need to be understood in order to write transformers effectively.'><meta property="og:url" content="http://konveyor.io/docs/move2kube/concepts/"><meta property="og:site_name" content="Konveyor"><meta property="og:title" content="Concepts"><meta property="og:description" content='Move2Kube has four concepts that are useful to understand when customizing output.
Important: It may be helpful to go through the tutorials first, then reading this section to learn more about each concept in more detail.
Artifacts Source code
Artifacts represent the application objects that can be passed between transformers.
type Artifact struct { Name string `yaml:"name,omitempty" json:"name,omitempty"` Type ArtifactType `yaml:"type,omitempty" json:"type,omitempty"` ProcessWith metav1.LabelSelector `yaml:"processWith,omitempty" json:"processWith,omitempty"` // Selector for choosing transformers that should process this artifact, empty is everything Paths map[PathType][]string `yaml:"paths,omitempty" json:"paths,omitempty" m2kpath:"normal"` Configs map[ConfigType]interface{} `yaml:"configs,omitempty" json:"config,omitempty"` // Could be IR or template config or any custom configuration } Artifact fields Each artifact is an object with fields that need to be understood in order to write transformers effectively.'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-08-16T17:21:40-06:00"><meta property="article:modified_time" content="2022-08-16T17:21:40-06:00"><meta itemprop=name content="Concepts"><meta itemprop=description content='Move2Kube has four concepts that are useful to understand when customizing output.
Important: It may be helpful to go through the tutorials first, then reading this section to learn more about each concept in more detail.
Artifacts Source code
Artifacts represent the application objects that can be passed between transformers.
type Artifact struct { Name string `yaml:"name,omitempty" json:"name,omitempty"` Type ArtifactType `yaml:"type,omitempty" json:"type,omitempty"` ProcessWith metav1.LabelSelector `yaml:"processWith,omitempty" json:"processWith,omitempty"` // Selector for choosing transformers that should process this artifact, empty is everything Paths map[PathType][]string `yaml:"paths,omitempty" json:"paths,omitempty" m2kpath:"normal"` Configs map[ConfigType]interface{} `yaml:"configs,omitempty" json:"config,omitempty"` // Could be IR or template config or any custom configuration } Artifact fields Each artifact is an object with fields that need to be understood in order to write transformers effectively.'><meta itemprop=datePublished content="2022-08-16T17:21:40-06:00"><meta itemprop=dateModified content="2022-08-16T17:21:40-06:00"><meta itemprop=wordCount content="2548"><meta name=twitter:card content="summary"><meta name=twitter:title content="Concepts"><meta name=twitter:description content='Move2Kube has four concepts that are useful to understand when customizing output.
Important: It may be helpful to go through the tutorials first, then reading this section to learn more about each concept in more detail.
Artifacts Source code
Artifacts represent the application objects that can be passed between transformers.
type Artifact struct { Name string `yaml:"name,omitempty" json:"name,omitempty"` Type ArtifactType `yaml:"type,omitempty" json:"type,omitempty"` ProcessWith metav1.LabelSelector `yaml:"processWith,omitempty" json:"processWith,omitempty"` // Selector for choosing transformers that should process this artifact, empty is everything Paths map[PathType][]string `yaml:"paths,omitempty" json:"paths,omitempty" m2kpath:"normal"` Configs map[ConfigType]interface{} `yaml:"configs,omitempty" json:"config,omitempty"` // Could be IR or template config or any custom configuration } Artifact fields Each artifact is an object with fields that need to be understood in order to write transformers effectively.'><link rel=preload href=/scss/main.min.77559d28d58beff407c93ec03404ec14c991ebbb32362c90361ab4da92ac41f1.css as=style integrity="sha256-d1WdKNWL7/QHyT7ANATsFMmR67syNiyQNhq02pKsQfE=" crossorigin=anonymous><link href=/scss/main.min.77559d28d58beff407c93ec03404ec14c991ebbb32362c90361ab4da92ac41f1.css rel=stylesheet integrity="sha256-d1WdKNWL7/QHyT7ANATsFMmR67syNiyQNhq02pKsQfE=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-TKPDMS3")</script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg width="575.19pt" height="221.79pt" version="1.2" viewBox="0 0 575.19 221.79"><g transform="translate(-9.3672,-9.1211)"><path d="m174.6 82.258h38.348v14.941H174.6z"/><path d="m246.31 82.258h38.348v14.941H246.31z"/><path d="m209.96 14.031h38.348v14.941H209.96z"/></g><path d="m247.85 78.121h15.727c1.418.0 2.5586 1.1367 2.5586 2.5547s-1.1406 2.5586-2.5586 2.5586H247.85c-1.418.0-2.5586-1.1406-2.5586-2.5586s1.1406-2.5547 2.5586-2.5547m-70.941.0h15.727c1.4141.0 2.5586 1.1367 2.5586 2.5547s-1.1445 2.5586-2.5586 2.5586h-15.727c-1.4141.0-2.5586-1.1406-2.5586-2.5586s1.1445-2.5547 2.5586-2.5547m47.938-8.7539c-.8789.0-1.5859.70703-1.5859 1.582v61.738c0 .87891.70703 1.5859 1.5859 1.5859h61.734c.8789.0 1.582-.71094 1.582-1.5859v-61.738c0-.875-.70313-1.582-1.582-1.582zm-70.945.0c-.875.0-1.5781.70703-1.5781 1.582v61.738c0 .87891.70312 1.5859 1.5781 1.5859h61.742c.875.0 1.5781-.71094 1.5781-1.5859v-61.738c0-.875-.70312-1.582-1.5781-1.582zm58.477-60.613h15.727c1.418.0 2.5586 1.1367 2.5586 2.5547s-1.1406 2.5586-2.5586 2.5586h-15.727c-1.418.0-2.5547-1.1406-2.5547-2.5586s1.1367-2.5547 2.5547-2.5547m-23.004-8.7539c-.87891.0-1.5859.70703-1.5859 1.582v61.738c0 .875.70703 1.5781 1.5859 1.5781h61.738c.875.0 1.582-.70312 1.582-1.5781v-61.738c0-.875-.70703-1.582-1.582-1.582z" fill="#b09454"/><g transform="translate(-9.3672,-9.1211)" fill="#353688"><path d="m110.98 164c13.109.0 23.523 10.414 23.523 23.523.0 13.113-10.414 23.523-23.523 23.523s-23.523-10.41-23.523-23.523c0-13.109 10.414-23.523 23.523-23.523m0-19.871c-23.848.0-43.395 19.547-43.395 43.395.0 23.852 19.547 43.395 43.395 43.395 23.852.0 43.398-19.543 43.398-43.395.0-23.848-19.547-43.395-43.398-43.395"/><path d="m9.3672 224.48v-73.914h20.301v28.109l22.488-28.109h22.902l-26.859 33.105 28.734 40.809h-23.32l-18.324-27.172-5.6211 5.832v21.34z"/><path d="m181.01 188.14v36.332h-20.301v-73.914h15.824l29.672 37.582v-37.582h20.301v73.914h-16.137z"/><path d="m253.47 150.56 14.469 48.41 14.266-48.41h21.34l-27.172 73.914H259.51l-27.484-73.914z"/><path d="m361.84 206.78v17.695h-52.676v-73.914h51.742v17.699h-31.441v10.41h26.859v16.449h-26.859v11.66z"/><path d="m386.3 150.56 13.223 31.961 13.531-31.961h22.07l-25.504 49.449v24.465h-20.195v-24.672l-25.09-49.242z"/><path d="m541.04 184.09h12.805c1.25.0 2.3945-.69532 3.4375-2.082 1.1094-1.3906 1.6641-3.332 1.6641-5.832.0-2.5664-.625-4.5117-1.875-5.8281-1.2461-1.3867-2.4961-2.082-3.7461-2.082h-12.285zm-20.301 40.391v-73.914h33.938c3.6094.0 6.9414.76562 9.9961 2.293 3.0547 1.457 5.6562 3.3984 7.8086 5.8281 2.2188 2.3594 3.9531 5.1016 5.2031 8.2227 1.25 3.0547 1.875 6.1445 1.875 9.2656.0 4.3047-.9375 8.3281-2.8125 12.078-1.8711 3.6797-4.4766 6.6953-7.8086 9.0586l15.617 27.168h-22.902l-13.012-22.695h-7.6016v22.695z"/><path d="m471.77 164c13.109.0 23.523 10.414 23.523 23.523.0 13.113-10.414 23.523-23.523 23.523s-23.523-10.41-23.523-23.523c0-13.109 10.414-23.523 23.523-23.523m0-19.871c-23.848.0-43.395 19.547-43.395 43.395.0 23.852 19.547 43.395 43.395 43.395 23.852.0 43.398-19.543 43.398-43.395.0-23.848-19.547-43.395-43.398-43.395"/></g></svg></span><span class=navbar-brand__name>Konveyor</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class="nav-item sub-menu dropdown"><div class=dropdown><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Components</span></a><ul class="dropdown-menu dropdown-menu-end -bg-primary"><li><a class=dropdown-item href=/components/konveyor-hub>Konveyor Hub</a></li><li><a class=dropdown-item href=/components/konveyor-cli>Konveyor CLI</a></li><li><a class=dropdown-item href=/components/kai>Konveyor AI</a></li></ul></div></li><li class=nav-item><a class=nav-link href=/docs><span>Documentation</span></a></li><li class=nav-item><a class=nav-link href=/docs/konveyor/contributetokonveyor/><span>Community</span></a></li><li class=nav-item><a class=nav-link href=/ecosystem><span>Ecosystem</span></a></li><li class=nav-item><a class=nav-link href=/blog><span>Blog</span></a></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.96175bf06c47f636563d0c714c8358e7.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.96175bf06c47f636563d0c714c8358e7.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Konveyor Docs</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docskonveyor-li><input type=checkbox id=m-docskonveyor-check>
<label for=m-docskonveyor-check><a href=/docs/konveyor/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docskonveyor><span>Konveyor</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorcontributetokonveyor-li><input type=checkbox id=m-docskonveyorcontributetokonveyor-check>
<label for=m-docskonveyorcontributetokonveyor-check><a href=/docs/konveyor/contributetokonveyor/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorcontributetokonveyor><span>Contributing To Konveyor</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyoradmintasks-li><input type=checkbox id=m-docskonveyoradmintasks-check>
<label for=m-docskonveyoradmintasks-check><a href=/docs/konveyor/admintasks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyoradmintasks><span>Administrator view tasks</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorviews-li><input type=checkbox id=m-docskonveyorviews-check>
<label for=m-docskonveyorviews-check><a href=/docs/konveyor/views/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorviews><span>Views</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorinstances-li><input type=checkbox id=m-docskonveyorinstances-check>
<label for=m-docskonveyorinstances-check><a href=/docs/konveyor/instances/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorinstances><span>Seeding Instances</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorinstallation-li><input type=checkbox id=m-docskonveyorinstallation-check>
<label for=m-docskonveyorinstallation-check><a href=/docs/konveyor/installation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorinstallation><span>Installing Konveyor</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyorassessanalyze-li><input type=checkbox id=m-docskonveyorassessanalyze-check>
<label for=m-docskonveyorassessanalyze-check><a href=/docs/konveyor/assessanalyze/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyorassessanalyze><span>Assessing and analyzing applications</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskonveyoraddapps-li><input type=checkbox id=m-docskonveyoraddapps-check>
<label for=m-docskonveyoraddapps-check><a href=/docs/konveyor/addapps/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docskonveyoraddapps><span>Adding applications</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsmove2kube-li><input type=checkbox id=m-docsmove2kube-check checked>
<label for=m-docsmove2kube-check><a href=/docs/move2kube/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kube><span>Move2Kube</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsmove2kubeconcepts-li><input type=checkbox id=m-docsmove2kubeconcepts-check checked>
<label for=m-docsmove2kubeconcepts-check><a href=/docs/move2kube/concepts/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubeconcepts><span class=td-sidebar-nav-active-item>Concepts</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsmove2kubeinstallation-li><input type=checkbox id=m-docsmove2kubeinstallation-check>
<label for=m-docsmove2kubeinstallation-check><a href=/docs/move2kube/installation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kubeinstallation><span>Installation</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubeinstallationinstallweb-li><input type=checkbox id=m-docsmove2kubeinstallationinstallweb-check>
<label for=m-docsmove2kubeinstallationinstallweb-check><a href=/docs/move2kube/installation/installweb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubeinstallationinstallweb><span>Web Interface</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubeinstallationinstallcli-li><input type=checkbox id=m-docsmove2kubeinstallationinstallcli-check>
<label for=m-docsmove2kubeinstallationinstallcli-check><a href=/docs/move2kube/installation/installcli/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubeinstallationinstallcli><span>Command line tool</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubecommands-li><input type=checkbox id=m-docsmove2kubecommands-check>
<label for=m-docsmove2kubecommands-check><a href=/docs/move2kube/commands/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubecommands><span>Commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetransformers-li><input type=checkbox id=m-docsmove2kubetransformers-check>
<label for=m-docsmove2kubetransformers-check><a href=/docs/move2kube/transformers/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetransformers><span>Transformers</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsmove2kubetutorials-li><input type=checkbox id=m-docsmove2kubetutorials-check>
<label for=m-docsmove2kubetutorials-check><a href=/docs/move2kube/tutorials/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kubetutorials><span>Tutorials</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsusingcli-li><input type=checkbox id=m-docsmove2kubetutorialsusingcli-check>
<label for=m-docsmove2kubetutorialsusingcli-check><a href=/docs/move2kube/tutorials/usingcli/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsusingcli><span>Using Move2Kube CLI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsusingui-li><input type=checkbox id=m-docsmove2kubetutorialsusingui-check>
<label for=m-docsmove2kubetutorialsusingui-check><a href=/docs/move2kube/tutorials/usingui/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsusingui><span>Using Move2Kube UI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsmove2kubetutorialscfappstok8-li><input type=checkbox id=m-docsmove2kubetutorialscfappstok8-check>
<label for=m-docsmove2kubetutorialscfappstok8-check><a href=/docs/move2kube/tutorials/cfappstok8/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kubetutorialscfappstok8><span>Migrating Enterprise Scale Cloud Foundry Apps to Kubernetes</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscfappstok81collect-li><input type=checkbox id=m-docsmove2kubetutorialscfappstok81collect-check>
<label for=m-docsmove2kubetutorialscfappstok81collect-check><a href=/docs/move2kube/tutorials/cfappstok8/1collect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscfappstok81collect><span>1. Collect</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscfappstok82plan-li><input type=checkbox id=m-docsmove2kubetutorialscfappstok82plan-check>
<label for=m-docsmove2kubetutorialscfappstok82plan-check><a href=/docs/move2kube/tutorials/cfappstok8/2plan/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscfappstok82plan><span>2. Plan</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscfappstok83transform-li><input type=checkbox id=m-docsmove2kubetutorialscfappstok83transform-check>
<label for=m-docsmove2kubetutorialscfappstok83transform-check><a href=/docs/move2kube/tutorials/cfappstok8/3transform/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscfappstok83transform><span>3. Transform</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsmove2kubetutorialscustomizeoutput-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutput-check>
<label for=m-docsmove2kubetutorialscustomizeoutput-check><a href=/docs/move2kube/tutorials/customizeoutput/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmove2kubetutorialscustomizeoutput><span>Customizing the output</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomizeoutputaddcustfiledir-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutputaddcustfiledir-check>
<label for=m-docsmove2kubetutorialscustomizeoutputaddcustfiledir-check><a href=/docs/move2kube/tutorials/customizeoutput/addcustfiledir/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomizeoutputaddcustfiledir><span>Add custom files and directories in custom locations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomizeoutputparamcustomfieldshelm-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutputparamcustomfieldshelm-check>
<label for=m-docsmove2kubetutorialscustomizeoutputparamcustomfieldshelm-check><a href=/docs/move2kube/tutorials/customizeoutput/paramcustomfieldshelm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomizeoutputparamcustomfieldshelm><span>Parameterizing custom fields in Helm Chart, Kustomize, OC templates</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomizeoutputcustomannotationsyaml-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutputcustomannotationsyaml-check>
<label for=m-docsmove2kubetutorialscustomizeoutputcustomannotationsyaml-check><a href=/docs/move2kube/tutorials/customizeoutput/customannotationsyaml/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomizeoutputcustomannotationsyaml><span>Add custom annotations to Kubernetes YAMLs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomizeoutputcustomgendockerfile-li><input type=checkbox id=m-docsmove2kubetutorialscustomizeoutputcustomgendockerfile-check>
<label for=m-docsmove2kubetutorialscustomizeoutputcustomgendockerfile-check><a href=/docs/move2kube/tutorials/customizeoutput/customgendockerfile/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomizeoutputcustomgendockerfile><span>Customize generated Dockerfile and built-in transformer behavior</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscustomkubeyaml-li><input type=checkbox id=m-docsmove2kubetutorialscustomkubeyaml-check>
<label for=m-docsmove2kubetutorialscustomkubeyaml-check><a href=/docs/move2kube/tutorials/customkubeyaml/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscustomkubeyaml><span>Customize Kubernetes YAMLs to target specific clusters</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscreatehelmchartskustomize-li><input type=checkbox id=m-docsmove2kubetutorialscreatehelmchartskustomize-check>
<label for=m-docsmove2kubetutorialscreatehelmchartskustomize-check><a href=/docs/move2kube/tutorials/createhelmchartskustomize/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscreatehelmchartskustomize><span>Create Helm-charts, Kustomize overlays from Kubernetes Yamls</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialscreatewincontainersnet-li><input type=checkbox id=m-docsmove2kubetutorialscreatewincontainersnet-check>
<label for=m-docsmove2kubetutorialscreatewincontainersnet-check><a href=/docs/move2kube/tutorials/createwincontainersnet/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialscreatewincontainersnet><span>Create and deploy Windows .NET containers</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsmigratedeploynetcore-li><input type=checkbox id=m-docsmove2kubetutorialsmigratedeploynetcore-check>
<label for=m-docsmove2kubetutorialsmigratedeploynetcore-check><a href=/docs/move2kube/tutorials/migratedeploynetcore/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsmigratedeploynetcore><span>Migrate and deploy .NET Core applications to Kubernetes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsmigratedockercomposekube-li><input type=checkbox id=m-docsmove2kubetutorialsmigratedockercomposekube-check>
<label for=m-docsmove2kubetutorialsmigratedockercomposekube-check><a href=/docs/move2kube/tutorials/migratedockercomposekube/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsmigratedockercomposekube><span>Migrate from Docker Compose to Kubernetes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsmigratedeploycfapps-li><input type=checkbox id=m-docsmove2kubetutorialsmigratedeploycfapps-check>
<label for=m-docsmove2kubetutorialsmigratedeploycfapps-check><a href=/docs/move2kube/tutorials/migratedeploycfapps/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsmigratedeploycfapps><span>Migrate and deploy Cloud Foundry applications to Kubernetes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmove2kubetutorialsrunnoninteractively-li><input type=checkbox id=m-docsmove2kubetutorialsrunnoninteractively-check>
<label for=m-docsmove2kubetutorialsrunnoninteractively-check><a href=/docs/move2kube/tutorials/runnoninteractively/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmove2kubetutorialsrunnoninteractively><span>Run transforms non-interactively</span></a></label></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#artifacts>Artifacts</a><ul><li><a href=#artifact-fields>Artifact fields</a></li></ul></li><li><a href=#transformers>Transformers</a><ul><li><a href=#transformer-directories>Transformer directories</a></li><li><a href=#transformer-yaml>Transformer YAML</a></li><li><a href=#transformer-class>Transformer Class</a></li><li><a href=#methods>Methods</a></li></ul></li><li><a href=#path-mapping>Path Mapping</a><ul><li><a href=#different-types-of-path-mappings>Different types of path mappings</a></li></ul></li><li><a href=#phases>Phases</a><ul><li><a href=#planning-phase>Planning phase</a></li><li><a href=#transformation-phase>Transformation phase</a></li></ul></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=http://konveyor.io/tags/appmodernization/ data-taxonomy-term=appmodernization><span class=taxonomy-label>AppModernization</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/cncf/ data-taxonomy-term=cncf><span class=taxonomy-label>CNCF</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/crane/ data-taxonomy-term=crane><span class=taxonomy-label>Crane</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/forklift/ data-taxonomy-term=forklift><span class=taxonomy-label>Forklift</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/genai/ data-taxonomy-term=genai><span class=taxonomy-label>GenAI</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/hackfest/ data-taxonomy-term=hackfest><span class=taxonomy-label>HackFest</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/kai/ data-taxonomy-term=kai><span class=taxonomy-label>Kai</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/konveyor/ data-taxonomy-term=konveyor><span class=taxonomy-label>Konveyor</span><span class=taxonomy-count>10</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/kubecon/ data-taxonomy-term=kubecon><span class=taxonomy-label>KubeCon</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/metrics/ data-taxonomy-term=metrics><span class=taxonomy-label>Metrics</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/move2kube/ data-taxonomy-term=move2kube><span class=taxonomy-label>Move2Kube</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/mtc/ data-taxonomy-term=mtc><span class=taxonomy-label>MTC</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/openshift/ data-taxonomy-term=openshift><span class=taxonomy-label>OpenShift</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/pelorus/ data-taxonomy-term=pelorus><span class=taxonomy-label>Pelorus</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=http://konveyor.io/tags/tackle/ data-taxonomy-term=tackle><span class=taxonomy-label>Tackle</span><span class=taxonomy-count>3</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>Konveyor Docs</a></li><li class=breadcrumb-item><a href=/docs/move2kube/>Move2Kube</a></li><li class="breadcrumb-item active" aria-current=page>Concepts</li></ol></nav><div class=td-content><h1>Concepts</h1><header class=article-meta></header><p>Move2Kube has four concepts that are useful to understand when customizing output.</p><blockquote><p><strong>Important:</strong> It may be helpful to go through the tutorials first, then reading this section to learn more about each concept in more detail.</p></blockquote><h2 id=artifacts>Artifacts</h2><p><a href=https://github.com/konveyor/move2kube/blob/6448624d79c37809417c05e34fcb3b2456952bcb/types/transformer/artifact.go#L37-L45>Source code</a></p><p>Artifacts represent the application objects that can be passed between transformers.</p><pre tabindex=0><code>type Artifact struct {
	Name        string               `yaml:&#34;name,omitempty&#34; json:&#34;name,omitempty&#34;`
	Type        ArtifactType         `yaml:&#34;type,omitempty&#34; json:&#34;type,omitempty&#34;`
	ProcessWith metav1.LabelSelector `yaml:&#34;processWith,omitempty&#34; json:&#34;processWith,omitempty&#34;` // Selector for choosing transformers that should process this artifact, empty is everything

	Paths   map[PathType][]string      `yaml:&#34;paths,omitempty&#34; json:&#34;paths,omitempty&#34; m2kpath:&#34;normal&#34;`
	Configs map[ConfigType]interface{} `yaml:&#34;configs,omitempty&#34; json:&#34;config,omitempty&#34;` // Could be IR or template config or any custom configuration
}
</code></pre><h3 id=artifact-fields>Artifact fields</h3><p>Each artifact is an object with fields that need to be understood in order to write transformers effectively.</p><ul><li><code>name</code> : <code>string</code> - Name of the artifact.</li><li><code>type</code> : <code>string</code> - Type of the artifact (any artifact type can be used).</li></ul><blockquote><p><strong>Important:</strong> Transformers consume artifacts based on their type, so custom artifact types can only be consumed by custom transformers that understand them. Example built-in artifact types include: <code>IR</code>, <code>KubernetesYamls</code>, <code>Dockerfile</code>, etc.</p></blockquote><ul><li><code>processWith</code> : <code>object</code> - This is the same as the Kubernetes label selector field. See <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#resources-that-support-set-based-requirements>Resources that support set-based requirements</a></li><li><code>paths</code> : <code>object ([string]: []string)</code> - Mapping from a file type to a list of directories containing files of that type.<ul><li>The key is a string containing the file type.</li><li>The value is a list of strings/paths to directories containing files of that type.</li></ul></li><li><code>configs</code> : <code>object ([string]: any)</code> - Mapping between different types of configurations and the configuration data.<ul><li>The key is a string containing the type of configuration.</li><li>The value can be anything, but usually an object. Example built-in configs:<ul><li><a href=https://github.com/konveyor/move2kube/blob/dcf8793a889c0a8f9f4423e9e9ee3a95003c6bcc/types/transformer/artifacts/cloudfoundry.go#L35-L39>types/transformer/artifacts/cloudfoundry.go#L35-L39</a></li><li><a href=https://github.com/konveyor/move2kube/blob/dcf8793a889c0a8f9f4423e9e9ee3a95003c6bcc/types/transformer/artifacts/java.go#L49-L75>types/transformer/artifacts/java.go#L49-L75</a></li><li><a href=https://github.com/konveyor/move2kube/blob/dcf8793a889c0a8f9f4423e9e9ee3a95003c6bcc/types/transformer/artifacts/gradle.go#L24-L27>types/transformer/artifacts/gradle.go#L24-L27</a></li></ul></li></ul></li></ul><h2 id=transformers>Transformers</h2><p>Move2Kube uses transformers to modify input into the desired output form. Each transformer consumes artifacts as input and returns output artifacts and PathMappings.</p><p>The artifacts allow multiple transformers to be chained together to achieve an end to end transformation and the PathMappings are used for persisting the changes in the file system. Some transformers have detection capability to go through the source directories to identify once it understands and creates new artifacts to start the process.</p><h3 id=transformer-directories>Transformer directories</h3><p>Each transformer generally has its own directory with all the configuration parameters required for that transformer whether it is a <a href=https://github.com/konveyor/move2kube/tree/main/assets/built-in/transformers>built-in transformer</a> or <a href=https://github.com/konveyor/move2kube-transformers>external transformer</a>. The transformer YAML is the most important part of the definition because it specifies its behavior. It also can have a <code>templates</code> directory for template files to be used by the transformer, and other files/configurations that are specific to each transformer.</p><h3 id=transformer-yaml>Transformer YAML</h3><p><a href=https://github.com/konveyor/move2kube/blob/6448624d79c37809417c05e34fcb3b2456952bcb/types/transformer/transformer.go#L27-L49>Source code</a></p><p>Transformers define the definition of the Cloud Foundry (CF) runtime instance app file.</p><pre tabindex=0><code>type Transformer struct {
    types.TypeMeta   `yaml:&#34;,inline&#34; json:&#34;,inline&#34;`
    types.ObjectMeta `yaml:&#34;metadata,omitempty&#34; json:&#34;metadata,omitempty&#34;`
    Spec             TransformerSpec `yaml:&#34;spec,omitempty&#34; json:&#34;spec,omitempty&#34;`
}
</code></pre><p>TransformerSpec stores the data.</p><pre tabindex=0><code>type TransformerSpec struct {
    FilePath           string                                 `yaml:&#34;-&#34; json:&#34;-&#34;`
    Class              string                                 `yaml:&#34;class&#34; json:&#34;class&#34;`
    Isolated           bool                                   `yaml:&#34;isolated&#34; json:&#34;isolated&#34;`
    DirectoryDetect    DirectoryDetect                        `yaml:&#34;directoryDetect&#34; json:&#34;directoryDetect&#34;`
    ExternalFiles      map[string]string                      `yaml:&#34;externalFiles&#34; json:&#34;externalFiles&#34;` // [source]destination
    ConsumedArtifacts  map[ArtifactType]ArtifactProcessConfig `yaml:&#34;consumes&#34; json:&#34;consumes&#34;`
    ProducedArtifacts  map[ArtifactType]ProducedArtifact      `yaml:&#34;produces&#34; json:&#34;produces&#34;`
    Dependency         interface{}                            `yaml:&#34;dependency&#34; json:&#34;dependency&#34;` // metav1.LabelSelector
    Override           interface{}                            `yaml:&#34;override&#34; json:&#34;override&#34;`     // metav1.LabelSelector
    DependencySelector labels.Selector                        `yaml:&#34;-&#34; json:&#34;-&#34;`
    OverrideSelector   labels.Selector                        `yaml:&#34;-&#34; json:&#34;-&#34;`
    TemplatesDir       string                                 `yaml:&#34;templates&#34; json:&#34;templates&#34;` // Relative to yaml directory or working directory in image
    Config             interface{}                            `yaml:&#34;config&#34; json:&#34;config&#34;`
}
</code></pre><p>The example above shows the format of the transformer YAML file. For more information on the YAML format, see this <a href=https://www.redhat.com/en/topics/automation/what-is-yaml>quick tutorial</a>.</p><p>YAML files have four main fields with sub-fields that define them.</p><blockquote><p><strong>Note:</strong> The <code>apiVersion</code> and <code>kind</code> are necessary to tell Move2Kube that this is a transformer.</p></blockquote><ul><li><p><code>apiVersion</code> : <code>string</code> - Similar to Kubernetes apiVersion strings. This should be <code>move2kube.konveyor.io/v1alpha1</code> for now.</p></li><li><p><code>kind</code> : <code>string</code> - Resource type contained in the YAML file which should be labeled <code>Transformer</code> for transformers.</p></li><li><p><code>metadata</code> : <code>object</code> - Defines the transformer name and can set optional labels used to enable or disable the transformer.</p><ul><li><code>name</code> : <code>string</code> - Transformer name.</li><li><code>labels</code> : <code>object ([string]: string)</code> - Set of labels similar to Kubernetes used to enable/disable a set of transformers during both planning and transformation phases. For more details run the <code>move2kube help transform</code> command.</li></ul></li><li><p><code>spec</code> : <code>object</code> - Main transformer data.</p><ul><li><code>class</code> : <code>string</code> - Mandatory field specifying which Move2Kube internal implementation to use for this transformer. Examples are: <code>Kubernetes</code>, <code>Parameterizer</code>, <code>GolangDockerfileGenerator</code>, <code>Executable</code>, <code>Starlark</code>, etc.</li><li><code>isolated</code> : <code>boolean</code> - If true, the transformer will receive a full unmodified copy of the source directory. By default, transformers do not run in isolation but instead receive a temporary directory containing a copy of the source directory that has already been used by other transformers. If other transformers have created temporary files, all of those files will be visible to the transformer.</li></ul><blockquote><p><strong>Note:</strong> Running in isolation increases the run time of your transformer but makes writing transformers easier because no clean up is necessary after the transformer has finished.</p></blockquote><ul><li><code>directoryDetect</code> : <code>object</code> - Used to control the directories the transformer runs on during the planning phase.<ul><li><code>levels</code> : <code>int</code> - Supported values:<ul><li><code>-1</code>: Runs on the source directory and all sub-directories.</li><li><code>0</code>: Skips directory detect entirely, does not run on any directories.</li><li><code>1</code>: Runs on only the source directory, not on any of the sub-directories.</li></ul></li></ul></li><li><code>externalFiles</code> : <code>object ([string]: string)</code> - Used to specify files that need to be copied from <a href=https://github.com/konveyor/move2kube/blob/023467328100472fc3ff36218af85b10573247f3/assets/built-in/transformers/dockerfilegenerator/java/maven/transformer.yaml#L22-L24>outside the context of the transformer</a> into the transformer. This is helpful to specify files used by multiple transformers in a single location.</li><li><code>consumes</code> : <code>object ([string]: object)</code> - Used to narrow down the artifacts that the transformer runs on during the transformation phase. The key is a string containing the type of the artifact and the value is an object with the following fields:<ul><li><code>merge</code> : <code>boolean</code> - If true, all artifacts of this type will be merged into a single artifact before being passed to the transformer.</li></ul></li><li><code>produces</code> : <code>object ([string]: object)</code> - Used to tell Move2Kube the type of output artifacts the transformer will return. The key is a string containing the type of the artifact and the value is an object with the following fields:<ul><li><code>changeTypeTo</code> : <code>string</code> - Used to change the artifact type to something else. Useful for overriding the behavior of existing transformers.</li></ul></li><li><code>dependency</code> : <code>any</code> - If the transformer wants the artifacts that are about to be processed by this transformer to be <a href=https://github.com/konveyor/move2kube/blob/023467328100472fc3ff36218af85b10573247f3/assets/built-in/transformers/kubernetes/kubernetes/transformer.yaml#L17-L19>preprocessed</a> by another transformer, this field specifies the transformer to use for preprocessing.</li><li><code>override</code> : <code>any</code> - If this transformer overrides the behavior of other transformers, a <a href=https://github.com/konveyor/move2kube-transformers/blob/25db4c2e46bf9795998ba560fa8fb59d72fcd1a8/custom-helm-kustomize-octemplates-parameterization/transformer.yaml#L14-L16>selector</a> can be specified to disable those transformers.</li><li><code>templates</code> : <code>string</code> - Specifies the template directory. The default value is <code>templates</code></li><li><code>config</code> : <code>any</code> - Each transformer has a type/class specified by the <code>class</code> field which provides certain configuration options that can be configured here. For more details, refer to documentation for the transformer class being used. Example: <a href=https://github.com/konveyor/move2kube/blob/023467328100472fc3ff36218af85b10573247f3/assets/built-in/transformers/kubernetes/parameterizer/transformer.yaml#L19-L18>Parameterizer config</a></li></ul><h4 id=other-filesdirectories>Other files/directories</h4><p><code>templates</code> - If the <code>Template</code> type path mapping created by this transformer uses a relative path, it is considered to be relative to this directory. There can be other files/configs in the directory that are interpreted differently by each transformer class which then determines how the values are interpreted and executed.</p><h3 id=transformer-class>Transformer Class</h3><p>The <code>Transformer Class</code> determines the code used for the internal execution of the transformer using the configuration in the <code>Transformer Yaml</code> and other config files to model its behavior. There are many transformer classes supported by Move2Kube: <code>Kubernetes</code>, <code>Parameterizer</code>, <code>GolangDockerfileGenerator</code>, <code>Executable</code>, <code>Starlark</code>, <code>Router</code>, etc. Most of them have a specific task, but some transformer classes like <code>Executable</code> and <code>Starlark</code> are customizable allowing users to write the entire logic of the transformer in the customization.</p><h4 id=transformer-class-internal-implementation>Transformer Class Internal Implementation</h4><p><a href=https://github.com/konveyor/move2kube/blob/dcf8793a889c0a8f9f4423e9e9ee3a95003c6bcc/transformer/transformer.go#L53-L60>Source code</a></p><p>The transformer interface defines the transformer that modifies and converts files to IR representation.</p><pre tabindex=0><code>type Transformer interface {
    Init(tc transformertypes.Transformer, env *environment.Environment) (err error)
    // GetConfig returns the transformer config
    GetConfig() (transformertypes.Transformer, *environment.Environment)
    DirectoryDetect(dir string) (services map[string][]transformertypes.Artifact, err error)
    Transform(newArtifacts []transformertypes.Artifact, alreadySeenArtifacts []transformertypes.Artifact) ([]transformertypes.PathMapping, []transformertypes.Artifact, error)
}
</code></pre><p>This example is the interface all transformers are expected to implement.</p><ul><li><code>Transform</code>: The main function that needs to be implemented.</li><li>Use <code>DirectoryDetect</code> for custom behavior during the planning phase.</li></ul><blockquote><p><strong>Important:</strong> Set <code>directoryDetect</code> to a value other than <code>0</code> in the transformer YAML.</p></blockquote><ul><li>The <code>Init</code> and <code>GetConfig</code> functions are fixed and implemented by transformers built into Move2Kube. They cannot be implemented by custom transformers.</li></ul><h3 id=methods>Methods</h3><ul><li><p><code>Init</code> : <code>(Transformer, Environment) -> (error)</code> - TODO</p></li><li><p><code>GetConfig</code> : <code>(Transformer, Environment) -> ()</code> - TODO</p></li><li><p><code>DirectoryDetect</code> : <code>(string) -> (object ([string]: []Artifact), error)</code>: This function is called during the planning phase and given the path of a directory containing the source files and then returns a list of artifacts listed in the plan file generated by Move2Kube. It will also return an error if planning does not run correctly.</p><ul><li>Input is a string containing the path to a directory with source files which could be the source directory itself or a sub-directory based on the value of <code>directoryDetect</code> in the transformer YAML.<ul><li><code>-1</code>: The function runs on the source directory and all of its sub-directories.</li><li><code>0</code>: The function is disabled entirely (it will not be run on any directories).</li><li><code>1</code>: The function runs only on the source directory but not on its sub-directories.</li></ul></li><li>The output is a list of artifacts which will be included in the plan-file.</li></ul></li><li><p><code>Transform</code> : <code>([]Artifact, []Artifact) -> ([]PathMapping, []Artifact, error)</code>: This function is called during the transformation phase and contains the code to perform the actual transformation and produce part of the Move2Kube output. The path mappings returned by this function cause changes to the Move2Kube output and the artifacts returned are passed to other transformers during the next iteration. It will also return an error if planning does not run correctly.</p><ul><li>The first input is a list of new artifacts produced during the previous iteration.</li><li>The second input is a list of artifacts that the transformer has already seen.</li><li>The third output is a list of path mappings.</li></ul></li></ul><h2 id=path-mapping>Path Mapping</h2><p>Path mappings are a way for transformers to add files to the Move2Kube output directory. They can be used to generate new files, delete existing files, modify the output directory structure, etc. Usually transformers deal with artifacts as they take them as input and outputs new artifacts, but does nothing to change the Move2Kube output since all transformers are run inside temporary directories.</p><p>In order to affect the output directory, transformers need to return path mappings indicating the type of change to be made.</p><p>For example: Consider a transformer that adds an annotation to Kubernetes Ingress YAML files. The transformer reads the file, adds the annotation, and then writes it back out. However this modified file is only present inside the temporary directory and does not appear in the output directory of Move2Kube. To copy this file over to the output directory, create a path mapping to return this from the transformer.:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Source&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;sourcePath&#34;</span>: <span style=color:#e6db74>&#34;annotated-ingress.yaml&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;destinationPath&#34;</span>: <span style=color:#e6db74>&#34;deploy/yamls/ingress.yaml&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Once the transformer is finished, Move2Kube will look at the path mapping the transformer returned and copy over the file to the output directory.</p><p>The example above shows the simplest use case for path mappings, but they are capable of much more advanced uses. For example: the source file is a template and needs to be filled in before being copied to the output.</p><p>Another example is when the source and destination paths are template strings that need to be filled in order to get the actual paths.</p><h3 id=different-types-of-path-mappings>Different types of path mappings</h3><p><a href=https://github.com/konveyor/move2kube/blob/dcf8793a889c0a8f9f4423e9e9ee3a95003c6bcc/types/transformer/pathmapping.go#L19-L45>Source code</a></p><p><code>PathMappingType</code> refers to the Path Mapping type.</p><pre tabindex=0><code>type PathMappingType = string

const (
    // DefaultPathMappingType allows normal copy with overwrite
    // TemplatePathMappingType allows copy of source to destination and applying of template
    TemplatePathMappingType PathMappingType = &#34;Template&#34; // Source path when relative, is relative to yaml file location
    // SourcePathMappingType allows for copying of source directory to another directory
    SourcePathMappingType PathMappingType = &#34;Source&#34; // Source path becomes relative to source directory
    // DeletePathMappingType allows for deleting of files or directories
    DeletePathMappingType PathMappingType = &#34;Delete&#34; // Delete path becomes relative to source directory
    // ModifiedSourcePathMappingType allows for copying of deltas wrt source
    ModifiedSourcePathMappingType PathMappingType = &#34;SourceDiff&#34; // Source path becomes relative to source directory
    // PathTemplatePathMappingType allows for path template registration
    PathTemplatePathMappingType PathMappingType = &#34;PathTemplate&#34; // Path Template type
    // SpecialTemplatePathMappingType allows copy of source to destination and applying of template with custom delimiter
    SpecialTemplatePathMappingType PathMappingType = &#34;SpecialTemplate&#34; // Source path when relative, is relative to yaml file location
)
</code></pre><p>PathMapping is the mapping between source and intermediate files and output files.</p><pre tabindex=0><code>type PathMapping struct {
    Type           PathMappingType `yaml:&#34;type,omitempty&#34; json:&#34;type,omitempty&#34;` // Default - Normal copy
    SrcPath        string          `yaml:&#34;sourcePath&#34; json:&#34;sourcePath&#34; m2kpath:&#34;normal&#34;`
    DestPath       string          `yaml:&#34;destinationPath&#34; json:&#34;destinationPath&#34; m2kpath:&#34;normal&#34;` // Relative to output directory
    TemplateConfig interface{}     `yaml:&#34;templateConfig&#34; json:&#34;templateConfig&#34;`
}
</code></pre><p>There are seven different types of path mappings:</p><ul><li><code>Default</code> - <code>sourcePath</code> must be an absolute path.
<code>destinationPath</code> must be a relative path, relative to Move2Kube&rsquo;s output directory. This will copy the directory/file specified in <code>sourcePath</code> to <code>destinationPath</code>.</li><li><code>Template</code> - <code>sourcePath</code> must be a relative path, relative to the templates directory of the transformer.
<code>destinationPath</code> must be a relative path, relative to Move2Kube&rsquo;s output directory. This fills the template in the file given by <code>sourcePath</code> and copies the filled template to <code>destinationPath</code>. The values for filling the template are given in <code>templateConfig</code>.</li><li><code>Source</code> - Same as <code>Default</code> path mapping except now the <code>sourcePath</code> can now be a relative path, relative to the temporary directory where the transformer is running.</li><li><code>Delete</code> - <code>sourcePath</code> must be a relative path, relative to Move2Kube&rsquo;s output directory. The directory/file specified by <code>sourcePath</code> will be deleted.</li><li><code>SourceDiff</code> - TODO</li><li><code>PathTemplate</code> - The path itself becomes a template. <code>sourcePath</code> contains the template path. <code>templateConfig</code> can be used to set a name for this template path.</li><li><code>SpecialTemplate</code> - Same as <code>Template</code> path mapping except now the template has a different syntax. The delimiters used in normal templates are <code>{{</code> and <code>}}</code>. In special templates, the delimiters are <code>&lt;~</code> and <code>~></code>. Same as before, the values for filling the template are provided in <code>templateConfig</code>.</li></ul><h2 id=phases>Phases</h2><p>Move2Kube uses two key phases:</p><ul><li>Planning</li><li>Transformation</li></ul><h3 id=planning-phase>Planning phase</h3><p>This phase starts by running the <code>move2kube plan -s path/to/source/directory</code> command. Move2Kube runs all the transformers that support the detect capability on the source directory to create a plan. The plan is written to a file called <code>m2k.plan</code> in YAML format which the transformation phase will use this plan to modify the source files into the desired output. The plan file is human readable and can be edited manually to change the modifications performed during the transformation phase.</p><p>The plan contains the list of detected services that Move2Kube found inside the source directory, including the path to the sub-directories/files where it detected information about those services. It also contains a list of all the built-in and external transformers that were detected which will be run during the transformation phase. Custom transformers can be written and provided during the plan phase to affect the contents of the plan.</p><h3 id=transformation-phase>Transformation phase</h3><p>This phase starts by running the <code>move2kube transform</code> command. Move2Kube evaluates which transformers to run in an iterative manner. Each iteration will evaluate the list of artifacts produced during the previous iteration and runs all transformers that consume those artifact types. This continues until it hits an iteration where there are no more artifacts or transformers that consume those artifact types at which point the transformation phase is complete.</p><p>The evaluated result of all PathMappings is the output.</p></li></ul><p><a href=https://github.com/konveyor/konveyor.github.io/blob/main/content/Move2Kube/concepts.md>Source</a></p></div></main></div></div><footer class=footer-container><div class=footer-inner-top><p>©2025 the Konveyor authors</p><ul class=footer-links><li><a href=/privacy>Privacy Statement</a></li><li><a href=https://www.linuxfoundation.org/legal/trademark-usage target=_blank>Trademark</a></li></ul><ul class=footer-links><li><a href=https://twitter.com/Konveyor_io target=_blank><i class="fa-brands fa-x-twitter"></i></a></li><li><a href=https://www.youtube.com/channel/UCQ3pW3gSBeCy0tj1J0ub2bw target=_blank><i class="fa-brands fa-youtube"></i></a></li><li><a href="https://www.linkedin.com/company/konveyor-community/?viewAsMember=true" target=_blank><i class="fa-brands fa-linkedin"></i></a></li><li><a href=https://www.konveyor.io/slack/ target=_blank><i class="fa-brands fa-slack"></i></a></li><li><a href=https://github.com/konveyor target=_blank><i class="fa-brands fa-github"></i></a></li></ul></div><div class=footer-inner-bottom><div><div class=konveyor-logo-container><img src=/images/Konveyor-logo-color-wh.svg alt="konveyor logo"></div><p>The Konveyor community helps modernize applications by providing open source tools.</p></div><div><div class=cncf-logo-container><img src=/images/cncf-logo-white.svg alt="cncf logo"></div><p>We are a Cloud Native Computing Foundation sandbox project.</p></div></div><p class=text-center>The Linux Foundation® (TLF) has registered trademarks and uses trademarks. For a list of TLF trademarks, see <a href=https://www.linuxfoundation.org/legal/trademark-usage target=_blank>Trademark Usage.</a></p></footer></div><script src=/js/main.min.8bdc707530d61dee3a6fd659f8a422c05d2e2319377a8710175451ca21fa83b0.js integrity="sha256-i9xwdTDWHe46b9ZZ+KQiwF0uIxk3eocQF1RRyiH6g7A=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKPDMS3" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript></body></html>